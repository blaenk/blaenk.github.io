<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Java - Blaenk Denum</title>
  <meta name="author" content="Jorge Israel Peña">
  <meta name="description" content="AKA Blaenk Denum">

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="/favicon.png" rel="shortcut icon">
  <link href='http://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Merriweather:900italic,900,700italic,400italic,700,400,300italic,300' rel='stylesheet' type='text/css'>
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  <link href='/css/screen.css' rel='stylesheet' type='text/css' media='screen' />
  <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/atom.xml" />
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML&delayStartupUntil=configured"></script>
  <script src="https://rawgit.com/ekalinin/typogr.js/master/typogr.min.js"></script>
  <script src='/js/blaenk.js' type='text/javascript'></script>
</head>
<body>
  <div class="page-wrapper">
    <header id="header">
  <div id="stamp">
    <h1 id="name">
      <a href="/">
        <span class="emboldened">Jorge</span>.Israel.<span class="emboldened">Peña</span>
      </a>
    </h1>
    <h4 id="pseudonym">
      AKA <span class="emboldened">Blaenk</span>.Denum
    </h4>
  </div>
  <nav id="main-nav">
    <ul class="main">
      <li><a href="/about/">About</a></li>
      <li><a href="/notes/">Notes</a></li>
      <li><a href="/work/">Work</a></li>
      <li><a href="/lately/">Lately</a></li>
      <li><a id="search_btn">Search</a></li>
    </ul>
  </nav>
  <nav id="mobile-nav">
    <div class="menu">
      <a class="button">Menu</a>
      <div class="container">
        <ul class="main">
          <li><a href="/about/">About</a></li>
          <li><a href="/notes/">Notes</a></li>
          <li><a href="/work/">Work</a></li>
          <li><a href="/lately/">Lately</a></li>
        </ul>
      </div>
    </div>
    <div class="search">
      <a class="button"></a>
      <div class="container">
        <form action="http://google.com/search" method="get">
          <input type="text" name="q" results="0">
          <input type="hidden" name="q" value="site:blaenkdenum.com">
        </form>
      </div>
    </div>
  </nav>
</header>
<form class="desk_search" action="http://google.com/search" method="get">
  <input id="search" type="text" name="q" results="0" placeholder="Search" autocomplete="off" spellcheck="false">
  <input type="hidden" name="q" value="site:blaenkdenum.com">
</form>

    
        <article class="post">
  <h2 class="title"><a href="/notes/java"><span>Java</span></a></h2>
  <div class="entry-content"><p>Java is considered by many to be a very boring language, relegated to insurance applications---or the enterprise in general. Compared to many other languages, it&#39;s dry and monotone. It has a reputation of being over-engineered, being home to the classic <code>FactoryFactory</code> joke <sup id="fnref1"><a href="#fn1" rel="footnote">1</a></sup>. In the past, programs written in Java were generally regarded as being slow and bloated resource hogs.</p>

<p>When Java was introduced in the 90s, it was hailed as being very portable, giving rise to the famous slogan &quot;Write Once, Run Anywhere.&quot; Java runtimes became available on various operating systems, cell phones, and even gained traction on websites as Java applets.</p>

<p>Java applets quickly became a very popular attack vector for malicious entities, leading public perception of Java as being insecure, ultimately leading Mozilla to adopt a stance of having Java disabled by default in Firefox---though this was eventually reverted due to public outcry.</p>

<p>Despite this negative perception of Java by many, I&#39;ve always held a certain respect for it. Throughout all this, real Java applications have and continue to be created, seemingly impervious to this image. Where many are creating virtual machines from scratch, Java has a very robust JVM which is the added experience of the many years that Java has been in existence.</p>

<p>These notes are a recap of Java and also cover Java 8.</p>

<nav id="toc">
<h3>Contents</h3><ol>
<li>
<a href="#jvm">JVM</a>
</li>
<li>
<a href="#primitives">Primitives</a>
<ol>
<li>
<a href="#primitive-wrappers">Primitive Wrappers</a>
</li>
<li>
<a href="#supplemental-characters">Supplemental Characters</a>
</li>
</ol>
</li>
<li>
<a href="#control-structures">Control Structures</a>
</li>
<li>
<a href="#classes">Classes</a>
</li>
<li>
<a href="#inheritance">Inheritance</a>
</li>
<li>
<a href="#generics">Generics</a>
</li>
<li>
<a href="#packages">Packages</a>
</li>
<li>
<a href="#interfaces">Interfaces</a>
</li>
<li>
<a href="#exceptions">Exceptions</a>
</li>
<li>
<a href="#multithreading">Multithreading</a>
</li>
<li>
<a href="#enumerations">Enumerations</a>
</li>
<li>
<a href="#annotations">Annotations</a>
</li>
<li>
<a href="#lambdas">Lambdas</a>
</li>
<li>
<a href="#io">IO</a>
</li>
<li>
<a href="#strings">Strings</a>
<ol>
<li>
<a href="#stringbuffer">StringBuffer</a>
</li>
</ol>
</li>
<li>
<a href="#java.lang">java.lang</a>
<ol>
<li>
<a href="#runtime">Runtime</a>
</li>
<li>
<a href="#process">Process</a>
</li>
<li>
<a href="#system">System</a>
</li>
<li>
<a href="#object">Object</a>
</li>
<li>
<a href="#class">Class</a>
</li>
<li>
<a href="#package">Package</a>
</li>
<li>
<a href="#comparable">Comparable</a>
</li>
<li>
<a href="#appendable">Appendable</a>
</li>
<li>
<a href="#iterable">Iterable</a>
</li>
<li>
<a href="#autocloseable">AutoCloseable</a>
</li>
</ol>
</li>
<li>
<a href="#collections">Collections</a>
<ol>
<li>
<a href="#collection-interfaces">Collection Interfaces</a>
<ol>
<li>
<a href="#collection">Collection</a>
</li>
<li>
<a href="#list">List</a>
</li>
<li>
<a href="#set">Set</a>
</li>
<li>
<a href="#sortedset">SortedSet</a>
</li>
<li>
<a href="#navigableset">NavigableSet</a>
</li>
<li>
<a href="#queue">Queue</a>
</li>
<li>
<a href="#deque">Deque</a>
</li>
<li>
<a href="#randomaccess">RandomAccess</a>
</li>
</ol>
</li>
<li>
<a href="#collection-classes">Collection Classes</a>
<ol>
<li>
<a href="#arraylist">ArrayList</a>
</li>
<li>
<a href="#linkedlist">LinkedList</a>
</li>
<li>
<a href="#hashset">HashSet</a>
</li>
<li>
<a href="#linkedhashset">LinkedHashSet</a>
</li>
<li>
<a href="#treeset">TreeSet</a>
</li>
<li>
<a href="#priorityqueue">PriorityQueue</a>
</li>
<li>
<a href="#arraydeque">ArrayDeque</a>
</li>
<li>
<a href="#enumset">EnumSet</a>
</li>
</ol>
</li>
<li>
<a href="#iterator">Iterator</a>
</li>
<li>
<a href="#spliterator">Spliterator</a>
</li>
<li>
<a href="#maps">Maps</a>
<ol>
<li>
<a href="#map-interfaces">Map Interfaces</a>
<ol>
<li>
<a href="#map">Map</a>
</li>
<li>
<a href="#sortedmap">SortedMap</a>
</li>
<li>
<a href="#navigablemap">NavigableMap</a>
</li>
<li>
<a href="#map.entry">Map.Entry</a>
</li>
</ol>
</li>
<li>
<a href="#map-classes">Map Classes</a>
<ol>
<li>
<a href="#hashmap">HashMap</a>
</li>
<li>
<a href="#treemap">TreeMap</a>
</li>
<li>
<a href="#linkedhashmap">LinkedHashMap</a>
</li>
<li>
<a href="#enummap">EnumMap</a>
</li>
</ol>
</li>
</ol>
</li>
<li>
<a href="#comparators">Comparators</a>
</li>
<li>
<a href="#collection-algorithms">Collection Algorithms</a>
</li>
<li>
<a href="#arrays">Arrays</a>
<ol>
<li>
<a href="#jdk-8">JDK 8</a>
</li>
</ol>
</li>
<li>
<a href="#legacy-collections">Legacy Collections</a>
</li>
</ol>
</li>
<li>
<a href="#java.util">java.util</a>
</li>
</ol>
</nav>
<h1 id="jvm">
<span class="hash">#</span>
<a href="#jvm" class="header-link">JVM</a>
</h1>
<p>Java is an interpreted language. Java code is compiled to highly optimized bytecode which is run by the JVM. HotSpot provides a Just-in-Time (JIT) compiler for Java bytecode. However, this doesn&#39;t mean that the entire Java program is compiled into executable code, which would be too complicated since it requires many run-time checks that can only be performed at run-time. Instead, the JIT compiler compiles parts of the program as it sees fit.</p>

<p>JDK 8 adds the concept of compact profiles which contain a subset of the Java API. Profiles go from 1 to 3, where <code>compact1</code> is the smallest profile. When compiling a program, the profile can be specified to determine if the program conforms to the subset specified by the profile.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-bash"><span class="c"># ensure Program only uses compact1 subset</span>
<span class="nv">$ </span>javac -profile compact1 Program
</code></pre></figure><h1 id="primitives">
<span class="hash">#</span>
<a href="#primitives" class="header-link">Primitives</a>
</h1>
<p>Java doesn&#39;t support unsigned integers. The <code>double</code> floating-point type is more commonly used than <code>float</code> because all of the standard library&#39;s math functions use doubles. The <code>char</code> can hold unsigned 16-bit values and uses UTF-16.</p>

<p>Underscores can be written within integer or floating-point literals to make them more readable.</p>

<p>Automatic type conversions only take place if the two types are compatible and the destination is larger than the source type, a widening conversion. Manual conversions can be performed using casts, the same as C-style casts.</p>

<p>When different types are present in the same expression, Java enforces type promotion rules. The <code>char</code>, <code>byte</code>, and <code>short</code> values are promoted to <code>int</code>. If <code>long</code>, <code>float</code>, or <code>double</code> values are present in the expression, then the entire expression becomes of that type.</p>

<p>Integer types are always signed in Java. Bitwise right-shift operations therefore shift the sign bit into the high-order bit. This is not always preferable, and so the unsigned right shift operator <code>&gt;&gt;&gt;</code> exists to shift a zero in the high-order bit regardless of sign.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="c1">// 11111111 11111111 11111111 11111111</span>
<span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>

<span class="c1">// 11111111 11111111 11111111 11111111</span>
<span class="n">a</span> <span class="o">&gt;&gt;</span> <span class="mi">24</span><span class="o">;</span>

<span class="c1">// 00000000 00000000 00000000 11111111</span>
<span class="n">a</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">24</span><span class="o">;</span>
</code></pre></figure>
<p>The <code>strictfp</code> modifier can be applied to a class, method, or interface to ensure that floating-point calculations perform truncations of certain intermediate values during a computation, as in previous JVM versions.</p>

<p>Array type syntax can place the <code>[]</code> in one of two locations. The latter is better for methods returning arrays and for declaring multiple arrays in one line.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kt">int</span> <span class="n">a</span><span class="o">[]</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">3</span><span class="o">];</span>
<span class="kt">int</span><span class="o">[]</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">3</span><span class="o">];</span>

<span class="c1">// three arrays</span>
<span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">,</span> <span class="n">nums2</span><span class="o">,</span> <span class="n">nums3</span><span class="o">;</span>
</code></pre></figure><h2 id="primitive-wrappers">
<span class="hash">#</span>
<a href="#primitive-wrappers" class="header-link">Primitive Wrappers</a>
</h2>
<p>Type wrappers are classes that wrap primitive types, such as <code>Character</code> which wraps <code>char</code>. All numeric type wrappers such as <code>Integer</code> and <code>Float</code> inherit from abstract class <code>Number</code> <sup id="fnref2"><a href="#fn2" rel="footnote">2</a></sup> which provides conversion methods for all numeric types.</p>

<p>Encapsulating a primitive in an object is referred to as <em>boxing</em>, and the reverse is called <em>unboxing</em>. <em>Autoboxing</em> and <em>auto-unboxing</em> refers to the automatic wrapping and unwrapping of primitive values. JDK 5 added support for autoboxing and auto-unboxing, which works whenever a primitive type must be converted to an object, such as when passed as parameters to methods or when used in expressions.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="n">Integer</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span> <span class="c1">// autoboxed</span>

<span class="n">Integer</span> <span class="n">ib</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
<span class="o">++</span><span class="n">ib</span><span class="o">;</span> <span class="c1">// auto-unboxed, incremented, re-boxed</span>
</code></pre></figure>
<p>There is no way to refer to the same instance of a primitive value. Primitive values can be wrapped into objects using the primitive wrappers---for use in collection classes which only work with objects, for example.</p>

<p><code>Number</code> is an abstract class that is derived by specific numeric type wrappers like <code>Integer</code> and <code>Double</code>. It provides methods for retrieving a given value in any other type format, e.g. <code>doubleValue</code>.</p>

<p>Wrappers can be constructed given the actual primitive value or a string representation of it.</p>

<p>Specific wrapper types also include static methods for parsing strings into primitive types, such as <code>Float.parseFloat(&quot;3.14&quot;)</code>.</p>

<p>Each of these wrapper types include certain constants such as <code>MIN_VALUE</code> and <code>MAX_VALUE</code>.</p>

<p>The <code>Double</code> and <code>Float</code> methods <code>isInfinite</code> and <code>isNaN</code> can be used to test if the values are either of those special values.</p>

<p>The <code>Char</code> methods <code>forDigit</code> and <code>digit</code> can convert a number to a character and vice versa, respectively.</p>
<h2 id="supplemental-characters">
<span class="hash">#</span>
<a href="#supplemental-characters" class="header-link">Supplemental Characters</a>
</h2>
<p>Java <code>char</code>s can only hold 16 bits, which means that a single <code>char</code> is unable to represent supplemental characters, those characters which are larger than <code>0xFFFF</code> and thus would require 32 bits to represent. Java resolves this issue by using two <code>char</code>s to represent a supplemental character: a <em>high surrogate</em> and a <em>low surrogate</em>.</p>

<p>Various <code>Character</code> methods provide overloads that accept an <code>int</code>, which is 32 bits and therefore large enough to hold even a supplemental character.</p>

<p>The method <code>codePointAt</code> returns an <code>int</code> containing a particular code point of the provided character sequence location. The method <code>toCodePoint</code> is similar except that it returns the code point of the provided surrogate pair provided a high and low surrogate character argument.</p>

<p>The <code>toChars</code> method performs the reverse operation, taking a code point and returning an array of characters, which may be two elements in length if it&#39;s a supplemental character.</p>
<h1 id="control-structures">
<span class="hash">#</span>
<a href="#control-structures" class="header-link">Control Structures</a>
</h1>
<p>Switch statements in Java can operate on expressions of type <code>byte</code>, <code>short</code>, <code>int</code>, <code>char</code>, enumerations, or <code>String</code>. Case statements don&#39;t break automatically, and so the <code>break</code> keyword must be used.</p>

<p>Labeled break statements can specify exactly which block to break to, causing execution to jump to the <em>end</em> of the specified <em>enclosing</em> block. Blocks can be given names by prefixing the <code>{</code> character with a label in the form of <code>thelabel:</code>.</p>

<p>The <code>continue</code> keyword also supports this functionality, in effect specifying which outter-loop to <code>continue</code>.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="nl">redundant:</span> <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
  <span class="k">break</span> <span class="n">redundant</span><span class="o">;</span>
<span class="o">}</span>

<span class="nl">outter:</span> <span class="o">{</span>
  <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
      <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="o">;</span> <span class="n">k</span><span class="o">++)</span> <span class="o">{</span>
        <span class="c1">// break out of _all_ loops</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">somecondition</span><span class="o">)</span>
          <span class="k">break</span> <span class="n">outter</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span> <span class="c1">// execution jumps here</span>
</code></pre></figure>
<p>Assertions aren&#39;t exactly control structures but they&#39;re in this section anyway. The <code>assert</code> keyword takes a condition which is optionally followed by a colon and an expression that is converted to a string and displayed if the assertion fails.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="k">assert</span> <span class="n">divisor</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">:</span> <span class="s">&quot;attempted to divide by zero&quot;</span><span class="o">;</span>
</code></pre></figure>
<p>Assertions aren&#39;t run by default due to the performance impact, but can be enabled by supplying the <code>-ea</code> option to the <code>java</code> interpreter, or disabled with the <code>-da</code> option. Assertions can be enabled or disabled at the package level by specifying the package and following it by three periods.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-bash"><span class="c"># enable all assertions</span>
<span class="nv">$ </span>java -ea Program

<span class="c"># only enable assertions from Core package</span>
<span class="nv">$ </span>java -ea:Core... Program
</code></pre></figure><h1 id="classes">
<span class="hash">#</span>
<a href="#classes" class="header-link">Classes</a>
</h1>
<p>Something to remember is that variables of class type hold references to <code>new</code> instantiated objects of that type, not the objects themselves.</p>

<p>Classes can have finalizer methods which can be used to free resources and are run just prior to being garbage collected.</p>

<p>Static methods can only directly call other static methods and access static data. Static variables that require computation for initialization can use static blocks which are executed exactly once.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">static</span> <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
<span class="kd">static</span> <span class="kt">int</span> <span class="n">b</span><span class="o">;</span>

<span class="kd">static</span> <span class="o">{</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;static block initialized&quot;</span><span class="o">);</span>
  <span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="mi">4</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></figure>
<p>Fields can be <code>final</code>, which makes them immutable. Final fields can be initialized via a value given at declaration or within a constructor.</p>

<p>Fields can be <code>transient</code>, which means that they should not be persisted when the object is stored.</p>

<p>Variable-length arguments are specified by threep periods and makes the arguments available as an array.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kt">void</span> <span class="nf">printArgs</span><span class="o">(</span><span class="kt">int</span> <span class="o">...</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">a</span> <span class="o">:</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">a</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="n">printArgs</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span>
</code></pre></figure>
<p>The <code>instanceof</code> operator can test to see if an instance is of a given type or <em>can be</em> cast into a given type, yielding a boolean value.</p>

<p>the <code>native</code> keyword can be used to mark a method as native via the Java Native Interface (JNI), in which case a method shoudldn&#39;t be provided. The library that contains the definition of the function should be linked using the <code>System.loadLibrary</code> method, particularly within a <code>static</code> block to ensure that this only occurs once.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">native</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">();</span>

  <span class="kd">static</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">loadLibrary</span><span class="o">(</span><span class="s">&quot;NativeDemo&quot;</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></figure>
<p>The code should be compiled normally, then the <code>javah</code> program should be run on the result to produce a header file that must be included in the implementation of the native method.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-bash"><span class="c"># produces Test.h</span>
<span class="nv">$ </span>javah -jni Test
</code></pre></figure>
<p>This generated header specifies the expected prototype of the native method which should be used for its implementation.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-c"><span class="cp">#include &lt;jni.h&gt;</span>
<span class="cp">#include &quot;Test.h&quot;</span>
<span class="cp">#include &lt;stdio.h&gt;</span>

<span class="n">JNIEXPORT</span> <span class="kt">void</span> <span class="n">JNICALL</span> <span class="nf">Java_Test_test</span><span class="p">(</span><span class="n">JNIEnv</span> <span class="o">*</span><span class="n">env</span><span class="p">,</span> <span class="n">jobject</span> <span class="n">obj</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;successfully called</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></figure><h1 id="inheritance">
<span class="hash">#</span>
<a href="#inheritance" class="header-link">Inheritance</a>
</h1>
<p>Inheritance is expressed with the <code>extends</code> keyword. Private members in the superclass can&#39;t be accessed by the child class. The superclass can be accessed via the <code>super</code> keyword. A superclass initializer can be called with <code>super</code> as well, which must be the first statement in a subclass constructor.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">class</span> <span class="nc">A</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">a</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">B</span> <span class="kd">extends</span> <span class="n">A</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">b</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></figure>
<p>The <code>abstract</code> keyword can be used to denote that subclasses must override a method, and this property bubbles up to the class, so that a class with an abstract method must itself be declared abstract. Even if a class is abstract, it may contain concrete method implementations. Abstract classes cannot be instantiated, though they may be used to create references in order to leverage run-time polymorphism.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">A</span> <span class="o">{</span>
  <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">callme</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">B</span> <span class="kd">extends</span> <span class="n">A</span> <span class="o">{</span>
  <span class="kt">void</span> <span class="nf">callme</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;called&quot;</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></figure>
<p>The <code>final</code> keyword can be used to prevent a method from being overridden in subclasses. Such methods can be inlined by the compiler because it knows that they will not be overridden and thus doesn&#39;t need to resolve the call dynamically at run-time.</p>

<p>Further, the <code>final</code> keyword can be used to prevent inheriting from a particular class at all.</p>

<p>All classes are subclasses of <code>Object</code>, so that a reference of type <code>Object</code> can refer to any other class.</p>

<p>Overloaded constructors can call other constructors by using the <code>this</code> keyword as a method, but if this is done then it must be the first statement within the constructor. Calling overloaded constructors in this manner imposes a performance impact due to the calla nd return mechanism used when the second constructor is invoked, so this mechanism shouldn&#39;t be used simply for the sake of cleaner code.</p>

<p>There are two restrictions with calling other constructors. The first is that an instance variable of the constructor&#39;s class can&#39;t be used in a call to another constructor (i.e. passing it as an argument). The second is that superclass constructor delegation and same-class constructor delegation can&#39;t be used in the same constructor, since each has the requirement of being the first statement in the constructor.</p>
<h1 id="generics">
<span class="hash">#</span>
<a href="#generics" class="header-link">Generics</a>
</h1>
<p>Java doesn&#39;t actually create different versions of parameterized classes or methods, unlike C++ template instantiations. Instead it performs <em>type erasure</em> so all generic type information is substituted by necessary type casts.</p>

<p>With type erasure, all generic type information is erased at compile-time, replacing type parameters with their bound type---<code>Object</code> if no explicit bound is specified. Appropriate casts are then inserted to maintain compatibility with the types specified by the type arguments, a compatibility which the compiler also enforces.</p>

<p>It&#39;s possible for methods overridden in subclasses to mismatch the type erasure of the superclass method definition. In this case, the compiler inserts a bridge method that has the same type erasure as the superclass which then calls the method that has the type erasure specified by the override.</p>

<p>In the following example, <code>getOb</code> in <code>T1&lt;String&gt;</code> results in a return type of <code>Object</code> due to type erasure, so the override isn&#39;t actually an override since the return types don&#39;t match. For this reason, the compiler would insert a method of the same name with the same return type as <code>T1</code> which itself would call the <code>T2</code> &quot;override&quot;.</p>

<p>In this example the only difference between the two methods with the same name is the return type, which is not a valid overload and would normally yield a compiler error, but it&#39;s handled automatically and correctly by the JVM.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">class</span> <span class="nc">T1</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="n">T</span> <span class="n">ob</span><span class="o">;</span>

  <span class="n">T</span> <span class="nf">getOb</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">ob</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">T2</span> <span class="kd">extends</span> <span class="n">T1</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="n">String</span> <span class="nf">getOb</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;called String override&quot;</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">ob</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></figure>
<p>It&#39;s also possible for type erasure to lead to ambiguity errors, where two distinct declarations resolve to the same erased type. This can be fixed by placing strict type bounds or making the method names distinct.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">class</span> <span class="nc">T</span><span class="o">&lt;</span><span class="n">X</span><span class="o">,</span> <span class="n">Y</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="n">X</span> <span class="n">obj1</span><span class="o">;</span>
  <span class="n">Y</span> <span class="n">obj2</span><span class="o">;</span>

  <span class="c1">// both resolve to void set(Object o)</span>
  <span class="kt">void</span> <span class="nf">set</span><span class="o">(</span><span class="n">X</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>
  <span class="kt">void</span> <span class="nf">set</span><span class="o">(</span><span class="n">Y</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>
<span class="o">}</span>
</code></pre></figure>
<p>Ambiguity errors can also be caused when there are more than one type parameters with no restriction on them being distinct, incompatible types.</p>

<p>Generics only work with reference types, so that a primitive type such as <code>int</code> can&#39;t be a type argument to a type parameter, instead necessitating a boxed type such as <code>Integer</code>.</p>

<p>It&#39;s not possible to create an instance of a type parameter, since the compiler won&#39;t know what type to actually create. By extension, it&#39;s not possible to instantiate arrays whose element type is a type parameter or a specific generic type as well. However, it is possible to create arrays of references to a generic type via a wildcard. It&#39;s also not possible to create generic exception classes.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">class</span> <span class="nc">T</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="n">A</span> <span class="n">obj</span><span class="o">;</span>

  <span class="n">T</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">A</span><span class="o">();</span> <span class="c1">// error</span>
    <span class="n">T</span> <span class="n">vals</span><span class="o">[]</span> <span class="o">=</span> <span class="k">new</span> <span class="n">T</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span> <span class="c1">// error</span>
    <span class="n">T</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">vals</span><span class="o">[]</span> <span class="o">=</span> <span class="k">new</span> <span class="n">T</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;[</span><span class="mi">10</span><span class="o">];</span> <span class="c1">// error</span>
    <span class="n">T</span><span class="o">&lt;?&gt;</span> <span class="n">vals</span><span class="o">[]</span> <span class="o">=</span> <span class="k">new</span> <span class="n">T</span><span class="o">&lt;?&gt;[</span><span class="mi">10</span><span class="o">];</span> <span class="c1">// fine</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></figure>
<p>It&#39;s also not possible to define static members that use type parameters declared by the enclosing class. There can, however, be generic static methods that define their own type parameters.</p>

<p>Generic classes are defined in the following form.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">class</span> <span class="nc">Name</span><span class="o">&lt;</span><span class="n">TypeParameter</span><span class="o">&gt;</span> <span class="o">{}</span>
</code></pre></figure>
<p>Bounded types allow the specification of an upper or lower bound on the expected type. An upper bound specifies the superclass from which the type argument must derive and is accomplished using the <code>extends</code> keyword. It&#39;s possible to use an interface as a bound, in which case the passed type must implement the given interface. A combination of type and interface(s) may be provided separated by ampersands <code>&amp;</code>, but the type must come first.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="c1">// upper bound: type argument must be or extend SuperClass</span>
<span class="o">&lt;</span><span class="n">T</span> <span class="kd">extends</span> <span class="n">SuperClass</span><span class="o">&gt;</span>

<span class="c1">// type argument must be or extend SuperClass</span>
<span class="c1">//   and extend Interface1 and Interface2</span>
<span class="o">&lt;</span><span class="n">T</span> <span class="kd">extends</span> <span class="n">SuperClass</span> <span class="o">&amp;</span> <span class="n">Interface1</span> <span class="o">&amp;</span> <span class="n">Interface2</span><span class="o">&gt;</span>
</code></pre></figure>
<p>It&#39;s possible to specify a wildcard type parameter with the question mark <code>?</code>, which represents an unknown type. This would match any generic type regardless of its type argument, so that <code>Test&lt;A&gt;</code> and <code>Test&lt;B&gt;</code> would match <code>Test&lt;?&gt;</code>.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="c1">// this can take in a Stats&lt;Integer&gt; and Stats&lt;Double&gt;</span>
<span class="kt">boolean</span> <span class="nf">sameAvg</span><span class="o">(</span><span class="n">Stats</span><span class="o">&lt;?&gt;</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">average</span><span class="o">()</span> <span class="o">==</span> <span class="n">obj</span><span class="o">.</span><span class="na">average</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></figure>
<p>Wildcards can also be bounded with an upper or lower bound with the <code>extends</code> and <code>super</code> keywords respectively. In both cases, the provided bound type is eligible for satisfying the bound.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="c1">// upper bound</span>
<span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">SuperClass</span><span class="o">&gt;</span>

<span class="c1">// lower bound: type must be superclass of SubClass</span>
<span class="c1">//   or SubClass itself</span>
<span class="o">&lt;?</span> <span class="kd">super</span> <span class="n">SubClass</span><span class="o">&gt;</span>
</code></pre></figure>
<p>Generic methods can be defined within non-generic classes. In this case, the type parameter list precedes the return type. If type inference fails in inferring the types, they may be explicitly provided before the method name.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">class</span> <span class="nc">Generic</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">,</span> <span class="n">V</span><span class="o">&gt;</span> <span class="kt">boolean</span> <span class="nf">method</span><span class="o">(</span><span class="n">T</span> <span class="n">a</span><span class="o">,</span> <span class="n">V</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>
<span class="o">}</span>

<span class="n">Generic</span><span class="o">.&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Double</span><span class="o">&gt;</span><span class="n">method</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mf">3.0</span><span class="o">);</span>
</code></pre></figure>
<p>Constructors can also be generic even if their classes aren&#39;t, in which case the type parameter list also precedes the constructor name.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">class</span> <span class="nc">DoubleContainer</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kt">double</span> <span class="n">val</span><span class="o">;</span>

  <span class="o">&lt;</span><span class="n">T</span> <span class="kd">extends</span> <span class="n">Number</span><span class="o">&gt;</span> <span class="nf">DoubleContainer</span><span class="o">(</span><span class="n">T</span> <span class="n">arg</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">val</span> <span class="o">=</span> <span class="n">arg</span><span class="o">.</span><span class="na">doubleValue</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></figure>
<p>Interfaces can also be made generic, in which case their declaration syntax is identical to that of a generic class. In most cases, if a class implements a generic interface then the class itself must be generic in order to pass the type parameter to the interface&#39;s type parameter list.</p>

<p>In order to preserve backwards compatibility, Java allows a generic class to be used without any type arguments, in which case it&#39;s referred to as a <em>raw type</em>. Type casts, which would normally be substituted automatically during type erasure, must be explicitly included to type check. However, if the type cast fails at run-time, it yields a run-time error.</p>

<p>Due to the danger imposed by raw types, the Java compiler displays unchecked warnings when raw types are used in ways that may break type safety.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">class</span> <span class="nc">Type</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="n">T</span> <span class="n">ob</span><span class="o">;</span>
<span class="o">}</span>

<span class="n">Type</span> <span class="n">raw</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Gen</span><span class="o">(</span><span class="k">new</span> <span class="n">Double</span><span class="o">(</span><span class="mf">3.0</span><span class="o">));</span>
<span class="kt">double</span> <span class="n">d</span> <span class="o">=</span> <span class="o">(</span><span class="n">Double</span><span class="o">)</span><span class="n">raw</span><span class="o">.</span><span class="na">ob</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="o">(</span><span class="n">Integer</span><span class="o">)</span><span class="n">raw</span><span class="o">.</span><span class="na">ob</span><span class="o">;</span> <span class="c1">// run-time error</span>
</code></pre></figure>
<p>Generic classes may inherit from generic and non-generic classes. It&#39;s also possible to inherit from a specific generic type (e.g. <code>T&lt;String&gt;</code>).</p>

<p>The <code>instanceof</code> operator can be used on generic classes, but since generic type information is not available at run-time, a wildcard must be used to check.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="n">Type</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Type</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;(</span><span class="mi">3</span><span class="o">);</span>

<span class="k">assert</span> <span class="n">t</span> <span class="k">instanceof</span> <span class="n">Type</span><span class="o">&lt;?&gt;;</span>
</code></pre></figure>
<p>It&#39;s possible to cast an instance of a generic class into another if the type arguments are the same and the classes are compatible (related).</p>

<p>the diamond operator <code>&lt;&gt;</code> can be used to instantiate a generic class and infer the type arguments from the types passed to the constructor.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="n">Type</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">ob</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Type</span><span class="o">&lt;&gt;(</span><span class="mi">3</span><span class="o">,</span> <span class="s">&quot;string&quot;</span><span class="o">);</span>
</code></pre></figure><h1 id="packages">
<span class="hash">#</span>
<a href="#packages" class="header-link">Packages</a>
</h1>
<p>Packages serve as containers for classes and serve a similar purpose to namespaces in C++, in particular they help avoid name collisions.</p>

<p>Packages are created by specifying a <code>package</code> declaration at the beginning of a source file, which has the effect of putting all classes declared within that file to belong to the package.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kn">package</span> <span class="nn">MyPackage</span><span class="o">;</span>
<span class="kn">package</span> <span class="nn">Some.Hierarchy.Here</span><span class="o">;</span>
</code></pre></figure>
<p>Multiple source files may contain the same <code>package</code> declaration, allowing packages to be spread across many source files. Packages map to directories on the file system.</p>

<p>The default access specification is that, if a class member doesn&#39;t have an explicit access specification, it is visible to subclasses and other classes in the same package. Specifying a member as <code>protected</code> makes it accessible outside of the package but only to subclasses of the class to which they are a member.</p>

<p>The following table specifies whether a class member with a particular access modifier is accessible by other package components.</p>

<table>
<thead>
<tr>
<th style="text-align: left">Class Member Accessible By</th>
<th style="text-align: left">Public</th>
<th style="text-align: left">Protected</th>
<th style="text-align: left">No Modifier</th>
<th style="text-align: left">Private</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">Same Class</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Yes</td>
</tr>
<tr>
<td style="text-align: left">Same Package SubClass</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">Same Package Non-SubClass</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">Different Package SubClass</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">No</td>
<td style="text-align: left">No</td>
</tr>
<tr>
<td style="text-align: left">Different Package Non-SubClass</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">No</td>
<td style="text-align: left">No</td>
<td style="text-align: left">No</td>
</tr>
</tbody>
</table>

<p>Packages can be imported using the <code>imported</code> keyword in order to avoid having to fully qualify package contents. The import statement may import either a classname or the <code>*</code> to import all classes.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
</code></pre></figure>
<p>If the <code>import</code> keyword is followed by the <code>static</code> keyword then only static members are imported, avoiding the need to fully qualify them. A wildcard is also possible with static imports.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kn">import</span> <span class="nn">static</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Math</span><span class="o">.</span><span class="na">sqrt</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Math</span><span class="o">.</span><span class="na">pow</span><span class="o">;</span>

<span class="c1">// or</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Math</span><span class="o">.*;</span>
</code></pre></figure><h1 id="interfaces">
<span class="hash">#</span>
<a href="#interfaces" class="header-link">Interfaces</a>
</h1>
<p>Classes must implement the complete set of methods specified in an interface in order to fully implement that interface. Interfaces must be declared as either <code>public</code> or use the default access level, while nested interfaces may be declared as <code>public</code>, <code>private</code>, or <code>protected</code>.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">interface</span> <span class="nc">Callback</span> <span class="o">{</span>
  <span class="kt">void</span> <span class="nf">callback</span><span class="o">(</span><span class="kt">int</span> <span class="n">param</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></figure>
<p>Classes specify that they implement a particular interface by using the <code>implements</code> keyword followed by a list of interfaces that it implements. Methods that implement an interface <em>must</em> be declared <code>public</code>.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">class</span> <span class="nc">Client</span> <span class="kd">implements</span> <span class="n">Callback</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">callback</span><span class="o">(</span><span class="kt">int</span> <span class="n">p</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;callback called with &quot;</span> <span class="o">+</span> <span class="n">p</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></figure>
<p>As with subclasses, it&#39;s possible to create references of interface types that point to objects that implement the interface, such that method calls resolve to those implemented by the object.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="n">Callback</span> <span class="n">c</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Client</span><span class="o">();</span>
<span class="n">c</span><span class="o">.</span><span class="na">callback</span><span class="o">(</span><span class="mi">42</span><span class="o">);</span>
<span class="c1">// callback called with 42</span>
</code></pre></figure>
<p>If a class doesn&#39;t fully implement the methods required by the interface it claims to implement, then that class must be declared as <code>abstract</code>.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Incomplete</span> <span class="kd">implements</span> <span class="n">Callback</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></figure>
<p>Variables may also be declared within interface declarations, but they are implicitly <code>final</code> and <code>static</code> such that they cannot be changed by the implementing class.</p>

<p>Interfaces may inherit from each other, such that the derived interface requires all methods in its parent interfaces to be implemented as well as its own.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">interface</span> <span class="nc">A</span> <span class="o">{</span>
  <span class="kt">void</span> <span class="nf">meth</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">interface</span> <span class="nc">B</span> <span class="kd">extends</span> <span class="n">A</span> <span class="o">{</span>
  <span class="kt">void</span> <span class="nf">meth2</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">SomeClass</span> <span class="kd">implements</span> <span class="n">B</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">meth</span><span class="o">()</span> <span class="o">{</span> <span class="cm">/* ... */</span> <span class="o">}</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">meth2</span><span class="o">()</span> <span class="o">{</span> <span class="cm">/* ... */</span> <span class="o">}</span>
<span class="o">}</span>
</code></pre></figure>
<p>JDK 8 makes it possible to provide default implementations of methods. Such implementations are referred to as <em>default methods</em> or <em>extension methods</em>. Default methods are specified by prefixing the method implementation with the <code>default</code> keyword.</p>

<p>Class implementations take priority over interface default implementations. If a class implements two interface with the same default method, the method must be overridden to disambiguate the call.</p>

<p>If an interface inherits from another and both define a common default method, the sub-interface&#39;s version takes precedence. However, the sub-interface can refer to the super-interface&#39;s default implementation by using the <code>super</code> keyword, as in <code>Interface.super.method()</code>.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">SomeInterface</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="nf">getNumber</span><span class="o">();</span>

  <span class="k">default</span> <span class="n">String</span> <span class="nf">getString</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="s">&quot;default&quot;</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></figure>
<p>JDK 8 also added the ability to define static methods in interfaces which can only be called off of the interface name, since static interface methods aren&#39;t inherited by an implementing class or a subinterface.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">interface</span> <span class="nc">SomeInterface</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kt">int</span> <span class="nf">getDefaultNumber</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kt">int</span> <span class="n">defNum</span> <span class="o">=</span> <span class="n">SomeInterface</span><span class="o">.</span><span class="na">getDefaultNumber</span><span class="o">();</span>
</code></pre></figure><h1 id="exceptions">
<span class="hash">#</span>
<a href="#exceptions" class="header-link">Exceptions</a>
</h1>
<p>The <code>try</code> block is used to enclose code that may potentially throw an exception. These can be nested so that an exception thrown within an inner one bubbles outwards until it is caught.</p>

<p>The <code>catch</code> statement essentially works like a pattern matching in functional languages, where the match succeeds if the actual exception type is a subclass of or <em>is</em> the type specified within the parentheses. This is the manner in which the type of error is determined, in order to appropriately handle it.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="k">try</span> <span class="o">{}</span>

<span class="k">catch</span> <span class="o">(</span><span class="n">ExceptionType</span> <span class="n">e</span><span class="o">)</span> <span class="o">{}</span>

<span class="k">finally</span> <span class="o">{}</span>
</code></pre></figure>
<p>Exception types are subclasses of the built-in class <code>Throwable</code>. Under <code>Throwable</code> there are two subclasses: <code>Exception</code> which is for exceptional conditions that programs should catch, and <code>Error</code> which is for exceptions that aren&#39;t expected to be caught under normal circumstances. In particular, exceptions of type <code>Error</code> are used for errors pertaining to the Java run-time environment and are usually created in response to serious failures that usually can&#39;t be handled by the program.</p>

<p>The <code>throw</code> statement is used to throw instances of exception types, particularly of type <code>Throwable</code> or a subclass of it. Execution immediately stops after the <code>throw</code> statement and jumps to wherever the exception is caught, bubbling out of enclosing <code>try</code> blocks until a handler is found or the run-time catches it.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="k">try</span> <span class="o">{</span>
  <span class="k">throw</span> <span class="k">new</span> <span class="n">NullPointerException</span><span class="o">(</span><span class="s">&quot;demo&quot;</span><span class="o">);</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">NullPointerException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;caught &quot;</span> <span class="o">+</span> <span class="n">e</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></figure>
<p>If a method is capable of throwing an exception that it doesn&#39;t handle, then it must be marked with the <code>throws</code> keyword to inform callers that they should put it within a <code>try</code> block. The <code>throws</code> keyword is placed after the parameter list and includes a list of exception types that may be thrown. Failing to do this prevents the program from compiling.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">class</span> <span class="nc">Throws</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">throwOne</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IllegalAccessException</span> <span class="o">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalAccessException</span><span class="o">(</span><span class="s">&quot;demo&quot;</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="k">try</span> <span class="o">{</span>
  <span class="n">throwOne</span><span class="o">();</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IllegalAccessException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// ...</span>
<span class="o">}</span>
</code></pre></figure>
<p>The <code>finally</code> block is used to define code that must be run regardless of whether or not an exception was thrown, even in the event that an exception is thrown but not handled.</p>

<p>Chained exceptions allow associating one exception with another. This is facilitated by two constructors on <code>Throwable</code>, one which takes the other exception instance and another that takes a message as well as the instance. The <code>getCause</code> method can then yield the exception instance that was the cause of the current exception. The <code>initCause</code> method allows associating another exception with the current exception after it has been created.</p>

<p>Multi-catch allows two or more exceptions to be caught by the same <code>catch</code> clause. This is useful if two ore more exception handlers use the same exact code despite responding to different exceptions. To facilitate this, the exception types are separated by <code>|</code> and the exception parameter is implicitly <code>final</code>.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="k">catch</span> <span class="o">(</span><span class="n">ArithmeticException</span> <span class="o">|</span> <span class="n">ArrayIndexOutOfBoundsException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{}</span>
</code></pre></figure>
<p>More precise rethrow refers to the restriction of the type of exceptions that can be rethrown to only those checked exceptions that the associated <code>try</code> block throws that aren&#39;t handled by a preceding <code>catch</code> clause and are a subtype or supertype of the parameter. For this restriction to be enforced, the <code>catch</code> parameter must be treated as or be explicitly declared as <code>final</code>.</p>

<p>When working with resources in pre-JDK 7 environments, it&#39;s necessary to leverage exception handling to make sure that resources don&#39;t leak if exceptions are thrown.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="k">try</span> <span class="o">{</span>
  <span class="n">FileInputStream</span> <span class="n">fin</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileInputStream</span><span class="o">(</span><span class="s">&quot;test&quot;</span><span class="o">);</span>
  <span class="c1">// ...</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// ...</span>
<span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
  <span class="c1">// dispose of the resource if it was created</span>
  <span class="k">try</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">fin</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="n">fin</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
  <span class="o">}</span>
  <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span> <span class="cm">/* error closing file */</span> <span class="o">}</span>
<span class="o">}</span>
</code></pre></figure>
<p>JDK 7 introduced <em>try-with-resources</em> which allows initializing a resource within a <code>try</code> statement that should be automatically closed if the body ends, whether it threw or not. This can only be used on those resources that implement the <code>AutoCloseable</code> interface which defines a <code>close</code> method. This allows <code>catch</code> clauses to be used for more meaningful reasons.</p>

<p>Multiple resources can be defined within the same <code>try</code> statement by separating their declarations with semicolons.</p>

<p>Something to note is that the resource declared in the <code>try</code> statement is implicitly <code>final</code>, so that the resource can&#39;t be assigned to after it has been created.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="k">try</span> <span class="o">(</span><span class="n">FileInputStream</span> <span class="n">fin</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileInputStream</span><span class="o">(</span><span class="s">&quot;test&quot;</span><span class="o">))</span> <span class="o">{</span>
  <span class="c1">// work with fin</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">FileNotFoundException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// handle meaningful exception</span>
<span class="o">}</span>
</code></pre></figure>
<p>Normally when an exception occurs after another exception leads to the <code>finally</code> block, the original exception is lost in favor of the new exception. With try-with-resources, the new exception is supressed and can be accessed using the <code>getSuppressed</code> method of the original exception.</p>
<h1 id="multithreading">
<span class="hash">#</span>
<a href="#multithreading" class="header-link">Multithreading</a>
</h1>
<p>The <code>Runnable</code> interface represents a unit of executable code and consists of a <code>run</code> method. The <code>Runnable</code> object&#39;s <code>run</code> method can be executed in a separate thread by instantiating a <code>Thread</code> and passing it a reference to the <code>Runnable</code>. This can be accomplished by using a particular <code>Thread</code> constructor which takes the reference, then calling the <code>Thread</code>&#39;s <code>start</code> method.</p>

<p>It&#39;s also possible extend the <code>Thread</code> class and override its <code>run</code> method to more directly specify code that should be run in a separate thread.</p>

<p>The <code>join</code> method from <code>Thread</code> can be used to join one thread to another, i.e. wait for another thread to finish.</p>

<p>A monitor is an object that&#39;s used as a mutually exclusive lock, and every object has its own implicit monitor that&#39;s automatically &quot;entered,&quot; i.e. acquired, when a <code>synchronized</code> method is called, so that only one thread may enter a <code>synchronized</code> method at a time on a given object.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">class</span> <span class="nc">Synchronized</span> <span class="o">{</span>
  <span class="kd">synchronized</span> <span class="kt">void</span> <span class="nf">raceCall</span><span class="o">(</span><span class="kt">int</span> <span class="n">arg</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// ...</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></figure>
<p>There is also a <code>synchronized</code> statement which can be used to synchronize sections of code, which can be useful when one doesn&#39;t have control over the methods of a class. The statement takes a reference to the object to use as the monitor and contains code that should be synchronized for it.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">synchronized</span><span class="o">(</span><span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// ...</span>
<span class="o">}</span>
</code></pre></figure>
<p>Java threads can communicate with each other via the <code>Object</code> methods <code>wait</code>, <code>notify</code>, and <code>notifyAll</code>. The <code>wait</code> method causes the calling thread to relinquish the monitor and sleep until another thread enters the monitor and calls <code>notify</code> or <code>notifyAll</code>. The <code>notify</code> method wakes up a thread that called <code>wait</code> on the same object, and the <code>notifyAll</code> method wakes up all threads that did so with one gaining access at random.</p>

<p>Despite calling <code>wait</code>, a thread may be woken up for no apparent reason (e.g. interrupted by a signal), which is why it&#39;s advised to put the <code>wait</code> call within a loop that checks the overall condition that is being waited upon.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="k">while</span> <span class="o">(</span><span class="n">condition</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">try</span> <span class="o">{</span>
    <span class="n">wait</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// ...</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></figure>
<p>The functionality for suspending, resuming, and stopping threads must be implemented manually, usually in the form of a loop that checks a flag which represents the user&#39;s request. A suspend method can&#39;t be provided by the standard library because it could end up suspending a thread before it relinquishes its locks, leading to deadlocks. A stop method can&#39;t be provided either because it could leave data in an inconsistent state if it&#39;s stopped abruptly.</p>

<p>Normally in multithreaded programs when two or more threads share the same variable they store thread-local copies and update the &quot;master copy&quot; at certain points in execution, such as when <code>synchronized</code> methods are entered. Specifying the variable as <code>volatile</code> tells the compiler that it must always use the master copy of the varaible, or to always keep the local copies synchronized with the master copy.</p>

<p>The <code>ThreadGroup</code> class can be used to create a group of threads, which is useful when wanting to manage a group of threads as a single unit. Threads are added to the thread group by providing a reference to it as an argument in the <code>Thread</code> constructor. Operations can be performed on each of the threads in a group by enumerating them using the <code>enumerate</code> method on <code>ThreadGroup</code>.</p>

<p>The <code>ThreadLocal</code> class can be used to create thread-local data, and an <code>InheritableThreadLocal</code> can be used to allow them to be inherited.</p>
<h1 id="enumerations">
<span class="hash">#</span>
<a href="#enumerations" class="header-link">Enumerations</a>
</h1>
<p>In Java, enumerations define class types that implicitly inherit from the <code>Enum</code> class, meaning that they may define constructors, methods, and instance variables. Despite this, they may not explicitly inherit or be inherited from. The <code>Enum</code> class is defined as:</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">class</span> <span class="nc">Enum</span><span class="o">&lt;</span><span class="n">E</span> <span class="kd">extends</span> <span class="n">Enum</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;&gt;</span>
</code></pre></figure>
<p>Enumeration constants are implicitly <code>static</code> and <code>final</code>. Each enumeration constant is an object of its enumeration type, and each enumeration constant has its own copy of instance variables.</p>

<p>When defining a constructor, it may be called once for each enumeration constant that is specified by providing the parameters in parentheses after each constant.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">enum</span> <span class="n">Colors</span> <span class="o">{</span>
  <span class="n">Red</span><span class="o">(</span><span class="mi">3</span><span class="o">),</span> <span class="n">Green</span><span class="o">(</span><span class="mi">2</span><span class="o">),</span> <span class="n">Blue</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>

  <span class="kd">private</span> <span class="kt">int</span> <span class="n">number</span><span class="o">;</span>

  <span class="n">Colors</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span> <span class="n">number</span> <span class="o">=</span> <span class="n">n</span><span class="o">;</span> <span class="o">}</span>
  <span class="kt">int</span> <span class="nf">getNumber</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="n">number</span><span class="o">;</span> <span class="o">}</span>
<span class="o">}</span>
</code></pre></figure>
<p>An enumeration constant&#39;s position, i.e. its <em>ordinal value</em>, can be retrieved by calling the <code>ordinal</code> method, and it can be compared against another enumeration constant&#39;s ordinal using the <code>compareTo</code> method. The <code>equals</code> method can be used to test if two enumeration constants are the same. Since enumeration constants are objects of their enumeration type, they can also be compared using the reference equality operator <code>==</code>.</p>
<h1 id="annotations">
<span class="hash">#</span>
<a href="#annotations" class="header-link">Annotations</a>
</h1>
<p>Annotations provide metadata about code that can be used by development tools. Annotations are created through a special kind of interface that consists solely of method declarations for which Java provides implementations. All annotations implicitly extend the <code>Annotation</code> interface, so that <code>Annotation</code> is a super-interface of all annotations.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="nd">@interface</span> <span class="n">Annot</span> <span class="o">{</span>
  <span class="n">String</span> <span class="nf">str</span><span class="o">();</span>
  <span class="kt">int</span> <span class="nf">val</span><span class="o">();</span>
<span class="o">}</span>

<span class="nd">@Annot</span><span class="o">(</span><span class="n">str</span> <span class="o">=</span> <span class="s">&quot;Example&quot;</span><span class="o">,</span> <span class="n">val</span> <span class="o">=</span> <span class="mi">100</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">method</span><span class="o">()</span> <span class="o">{}</span>
</code></pre></figure>
<p>Annotations could be used on declarations of any type, including classes, methods, fields, parameters, enumeration constants, and even other annotations. Annotations are applied by giving values to the annotation members.</p>

<p>Annotations members can be given default values by following the member line with the <code>default</code> keyword and the value to give it, such as:</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kt">int</span> <span class="nf">val</span><span class="o">()</span> <span class="k">default</span> <span class="mi">3</span><span class="o">;</span>
</code></pre></figure>
<p>Annotation retention policies refer to how long the annotation is retained. Regardless of the policy, annotations on local variable declarations are not retained in <code>.class</code> files.</p>

<table>
<thead>
<tr>
<th style="text-align: left">Policy</th>
<th style="text-align: left">Lifetime</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left"><code>SOURCE</code></td>
<td style="text-align: left">source code</td>
</tr>
<tr>
<td style="text-align: left"><code>CLASS</code></td>
<td style="text-align: left"><code>.class</code> files</td>
</tr>
<tr>
<td style="text-align: left"><code>RUNTIME</code></td>
<td style="text-align: left"><code>.class</code> files; available at runtime</td>
</tr>
</tbody>
</table>

<p>Annotation retention policies are specified using the <code>@Retention</code> annotation.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="nd">@Retention</span><span class="o">(</span><span class="n">Retention</span><span class="o">.</span><span class="na">Policy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>
<span class="nd">@interface</span> <span class="n">Annot</span> <span class="o">{</span>
  <span class="n">String</span> <span class="nf">str</span><span class="o">();</span>
  <span class="kt">int</span> <span class="nf">val</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></figure>
<p>Annotations with <code>RUNTIME</code> retention policies can be obtained at run-time via reflection. First, a <code>Class</code> object must be obtained that represents the class whose annotations we want to obtain, which is usually done with <code>getClass</code> or the <code>class</code> member. Next, it&#39;s necessary to obtain an object that represents the item for which we want to obtain annotations, e.g. <code>getMethod</code>. Once one of these objects is obtained, the actual annotation may be obtained with <code>getAnnotation</code> which can then be queried for the values of its members.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="nd">@Retention</span><span class="o">(</span><span class="n">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>
<span class="nd">@interface</span> <span class="n">MyAnno</span> <span class="o">{</span>
  <span class="n">String</span> <span class="nf">str</span><span class="o">();</span>
  <span class="kt">int</span> <span class="nf">val</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Meta</span> <span class="o">{</span>
  <span class="nd">@MyAnno</span><span class="o">(</span><span class="n">str</span> <span class="o">=</span> <span class="s">&quot;test&quot;</span><span class="o">,</span> <span class="n">val</span> <span class="o">=</span> <span class="mi">3</span><span class="o">)</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">myMeth</span><span class="o">(</span><span class="n">String</span> <span class="n">str</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="n">Meta</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
    <span class="n">Method</span> <span class="n">m</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="s">&quot;myMeth&quot;</span><span class="o">,</span> <span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="kt">int</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="n">MyAnno</span> <span class="n">anno</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="na">getAnnotation</span><span class="o">(</span><span class="n">MyAnno</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;str: &quot;</span> <span class="o">+</span> <span class="n">anno</span><span class="o">.</span><span class="na">str</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;, val: &quot;</span> <span class="o">+</span> <span class="n">anno</span><span class="o">.</span><span class="na">val</span><span class="o">());</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></figure>
<p>Alternatively, the <code>getAnnotations</code> method on a given item, such as <code>Method</code>, yields all annotations associated with the item with a <code>RUNTIME</code> retention. This method is defined by the <code>AnnotatedElement</code> interface, which defines many other annotation introspection methods.</p>

<p>Marker annotations don&#39;t have any members, so that their only purpose is to <em>mark</em> the items to which they&#39;re applied, which can then be checked using the method <code>isAnnotationPresent</code>. Parentheses are optional with marker annotations.</p>

<p>Single-member annotations are those that only contain one member. These annotations can leverage a short-hand syntax if the member&#39;s name is <code>value</code>, in which case the value of the single member is the only thing within the parentheses.</p>

<p>It&#39;s also possible to use this short-hand if there are other members but they have default values.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="nd">@interface</span> <span class="n">MySingle</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="nf">value</span><span class="o">();</span>
<span class="o">}</span>

<span class="nd">@MySingle</span><span class="o">(</span><span class="mi">100</span><span class="o">)</span>
<span class="kd">class</span> <span class="nc">Single</span> <span class="o">{}</span>
</code></pre></figure>
<p>There are a variety of built-in annotations but some are used more than others.</p>

<p>The <code>@Target</code> annotation specifies the types of items to which the annotation may be applied by supplying possible targets as defined by the <code>ElementType</code> enumeration. If more than one target is specified, it must be specified in a comma-separated manner within braces, as in array initialization syntax.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="nd">@Target</span><span class="o">({</span><span class="n">ElementType</span><span class="o">.</span><span class="na">FIELD</span><span class="o">,</span> <span class="n">ElementType</span><span class="o">.</span><span class="na">LOCAL_VARIABLE</span><span class="o">})</span>
<span class="nd">@interface</span> <span class="n">Whatever</span> <span class="o">{}</span>
</code></pre></figure>
<table>
<thead>
<tr>
<th style="text-align: left">Constant</th>
<th style="text-align: left">Applicable To</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left"><code>ANNOTATION_TYPE</code></td>
<td style="text-align: left">another annotation</td>
</tr>
<tr>
<td style="text-align: left"><code>CONSTRUCTOR</code></td>
<td style="text-align: left">constructor</td>
</tr>
<tr>
<td style="text-align: left"><code>FIELD</code></td>
<td style="text-align: left">field</td>
</tr>
<tr>
<td style="text-align: left"><code>LOCAL_VARIABLE</code></td>
<td style="text-align: left">local variable</td>
</tr>
<tr>
<td style="text-align: left"><code>METHOD</code></td>
<td style="text-align: left">method</td>
</tr>
<tr>
<td style="text-align: left"><code>PACKAGE</code></td>
<td style="text-align: left">package</td>
</tr>
<tr>
<td style="text-align: left"><code>PARAMETER</code></td>
<td style="text-align: left">parameter</td>
</tr>
<tr>
<td style="text-align: left"><code>TYPE</code></td>
<td style="text-align: left">class, interface, enumeration</td>
</tr>
<tr>
<td style="text-align: left"><code>TYPE_PARAMETER</code></td>
<td style="text-align: left">type parameter (JDK 8)</td>
</tr>
<tr>
<td style="text-align: left"><code>TYPE_USE</code></td>
<td style="text-align: left">type use (JDK 8)</td>
</tr>
</tbody>
</table>

<p>The <code>@Inherited</code> annotation can only be applied to annotations being applied to class declarations, causing the annotation of a superclass to be inherited by a subclass. That is, if a subclass is searched for a given annotation and it&#39;s not found, its superclass is searched.</p>

<p>The <code>@Override</code> annotation can only be used on methods in order to declare that the method to which it&#39;s applied must be overriding a method from a superclass, yielding a compile-time error if this isn&#39;t the case.</p>

<p>The <code>@Deprecated</code> annotation is used to mark a declaration obsolete.</p>

<p>The <code>@FunctionalInterface</code> is a marker annotation added by JDK 8 that indicates that the annotated interface is a functional interface. However, any interface with exactly one abstract method is by definition a functional interface, so that this annotation is purely informational, aside from yielding compile-time errors if the constraint isn&#39;t satisfied.</p>

<p>Beginning with JDK 8, annotations can also be placed in most cases in which a type is used---such as return types, the type of <code>this</code>, a type cast, and so on---in which case they&#39;re referred to as type annotations. These annotations are mainly used for external tools to enforce stricter checks than the Java compiler may perform.</p>

<p>To annotate the type of <code>this</code>, known as the <em>receiver</em>, JDK 8 allows explicitly declaring <code>this</code> as the first parameter of a method in which case it should take on the type of the class the method belongs to.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kt">int</span> <span class="nf">myMeth</span><span class="o">(</span><span class="nd">@TypeAnno</span> <span class="n">SomeClass</span> <span class="k">this</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="kt">int</span> <span class="n">j</span><span class="o">)</span> <span class="o">{}</span>
</code></pre></figure>
<p>When annotating return types, it&#39;s not possible to annotate a return type of <code>void</code>.</p>

<p>JDK 8 added support for so called <em>repeating annotations</em> which are annotations that can be repeated on the same element. The annotation that is intended to be repeatable must be annotated with the <code>@Repeatable</code> annotation which specifies the annotation&#39;s container type, that is, another annotation for which its <code>value</code> field is an array of the repeatable annotation type.</p>

<p>These repeated annotations can then be retrieved using <code>getAnnotation</code> to retrieve the container type.</p>

<p>Alternatively, it&#39;s more straightforward to use the <code>getAnnotationsByType</code> method.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="nd">@Retention</span><span class="o">(</span><span class="n">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>
<span class="nd">@Repeatable</span><span class="o">(</span><span class="n">MyRepeatedAnnos</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="nd">@interface</span> <span class="n">MyAnno</span> <span class="o">{</span>
  <span class="n">String</span> <span class="nf">str</span><span class="o">()</span> <span class="k">default</span> <span class="s">&quot;test&quot;</span><span class="o">;</span>
  <span class="kt">int</span> <span class="nf">val</span><span class="o">()</span> <span class="k">default</span> <span class="mi">3</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@Retention</span><span class="o">(</span><span class="n">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>
<span class="nd">@interface</span> <span class="n">RepeatedAnnos</span> <span class="o">{</span>
  <span class="n">MyAnno</span><span class="o">[]</span> <span class="nf">value</span><span class="o">();</span>
<span class="o">}</span>

<span class="nd">@MyAnno</span><span class="o">(</span><span class="n">str</span> <span class="o">=</span> <span class="s">&quot;first&quot;</span><span class="o">,</span> <span class="n">val</span> <span class="o">=</span> <span class="mi">1</span><span class="o">)</span>
<span class="nd">@MyAnno</span><span class="o">(</span><span class="n">str</span> <span class="o">=</span> <span class="s">&quot;second&quot;</span><span class="o">,</span> <span class="n">val</span> <span class="o">=</span> <span class="mi">2</span><span class="o">)</span>
<span class="kd">class</span> <span class="nc">Annotated</span> <span class="o">{</span>
  <span class="n">Annotation</span> <span class="n">container</span> <span class="o">=</span> <span class="n">Annotated</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getAnnotation</span><span class="o">(</span><span class="n">RepeatedAnnos</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
  <span class="n">MyAnno</span><span class="o">[]</span> <span class="n">annos</span> <span class="o">=</span> <span class="n">container</span><span class="o">.</span><span class="na">value</span><span class="o">();</span>

  <span class="c1">// or</span>
  <span class="n">MyAnno</span><span class="o">[]</span> <span class="n">annos</span> <span class="o">=</span> <span class="n">Annotated</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getAnnotationsByType</span><span class="o">(</span><span class="n">MyAnno</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

  <span class="k">for</span> <span class="o">(</span><span class="n">Annotation</span> <span class="n">a</span> <span class="o">:</span> <span class="n">annos</span><span class="o">)</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">a</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></figure><h1 id="lambdas">
<span class="hash">#</span>
<a href="#lambdas" class="header-link">Lambdas</a>
</h1>
<p>A functional interface is an interface that contains only one abstract method. This means that the interface can contain other methods so long as they have default implementations. The functional interface&#39;s method specifies the target type, and lambda expressions can only be specified in a context in which a target type is defined.</p>

<p>When a lambda expression does occur in a target type context, an instance of a class is automatically created that implements the functional interface. The parameters and return type of the lambda expression must match those of the abstract method&#39;s, and any exceptions thrown by the lambda must be acceptable to the method.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">interface</span> <span class="nc">Test</span> <span class="o">{</span>
  <span class="kt">double</span> <span class="nf">getValue</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Demo</span> <span class="o">{</span>
  <span class="n">Test</span> <span class="n">t</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="mf">2.0</span><span class="o">;</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;value: &quot;</span> <span class="o">+</span> <span class="n">t</span><span class="o">.</span><span class="na">getValue</span><span class="o">());</span>
<span class="o">}</span>
</code></pre></figure>
<p>If a lambda expression has only one parameter, it&#39;s not necesary to surround the parameters with parentheses. If it&#39;s necessary to explicitly declare the type of a parameter, all of them must be specified---all or nothing. If multiple statements are required within a lambda, they simply need to be surrounded with braces as with a method body and a return statement must be given.</p>

<p>Lambdas may only use local variables from their enclosing scope if they&#39;re effectively final, that is, their value doesn&#39;t change after they&#39;re first assigned. As a result, lambdas can&#39;t modify local variables from their enclosing scope. However, it <em>may</em> use and modify instance varaibles from its invoking class.</p>

<p>Method references can refer to methods without executing them. Static method references can be obtained using the <code>::</code> separator introduced in JDK 8. A method reference can then be used anywhere in which it is compatible with the target type.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="nl">ClassName:</span><span class="o">:</span><span class="n">staticMethod</span><span class="o">;</span>
</code></pre></figure>
<p>It&#39;s also possible to obtain references to instance methods of a specific object with the same syntax.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="nl">objRef:</span><span class="o">:</span><span class="n">methodName</span><span class="o">;</span>
</code></pre></figure>
<p>It&#39;s also possible to obtain a reference to an instance method that can be used on any object. In this case, the first parameter of the functional interface should be of the type of the invoking object and the second should be the parameter(s) specified by the method.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">interface</span> <span class="nc">Func</span> <span class="o">{</span>
  <span class="kt">boolean</span> <span class="nf">func</span><span class="o">(</span><span class="n">ClassName</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">);</span>
<span class="o">}</span>

<span class="nl">ClassName:</span><span class="o">:</span><span class="n">instanceMethod</span><span class="o">;</span>
</code></pre></figure>
<p>If the class is generic, then the type parameter is specified after the <code>::</code> separator.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="nl">ClassName:</span><span class="o">:&lt;</span><span class="n">Type</span><span class="o">,</span> <span class="n">OtherType</span><span class="o">&gt;</span><span class="n">instanceMethod</span><span class="o">;</span>
</code></pre></figure>
<p>It&#39;s also possible to reference constructors. If the class is generic, then the type parameters are provided as mentioned above. Constructor references for arrays can also be created. A functional interface for a constructor references to arrays should contain a method that takes an integer parameter to refer to an array constructor.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="nl">ClassName:</span><span class="o">:</span><span class="k">new</span><span class="o">;</span>

<span class="n">ClassName</span><span class="o">[]::</span><span class="k">new</span><span class="o">;</span> <span class="c1">// arrays</span>
</code></pre></figure>
<p>A superclass version of a method may be referred to with the <code>super</code> keyword.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">super</span><span class="o">::</span><span class="n">methodName</span><span class="o">;</span>
</code></pre></figure>
<p>JDK 8 contains predefined functional interfaces in <span class="path">java.util.function</span>.</p>
<h1 id="io">
<span class="hash">#</span>
<a href="#io" class="header-link">IO</a>
</h1>
<p>IO is performed in Java through the stream abstraction which is split into two types: byte streams reserved for binary data and character streams reserved for internationalizable Unicode text (and are sometimes more efficient than byte streams).</p>

<p>Byte streams consist of two hierarchies with the following abstract classes at the top: <code>InputStream</code> and <code>OutputStream</code>. Character streams are similar, with <code>Reader</code> and <code>Writer</code> being at the top. Each of these sets of classes define <code>read</code> and <code>write</code> methods respectively.</p>

<p>The <code>System</code> class defines three static, predefined stream variables <code>in</code>, <code>out</code>, and <code>err</code> where <code>in</code> is an <code>InputStream</code> while <code>out</code> and <code>err</code> are <code>PrintStream</code> types.</p>

<p>For example, to read input from the keyboard, the <code>InputStream</code> can be wrapped by <code>InputStreamReader</code> to convert bytes to characters, then wrapped in <code>BufferedReader</code> to support a buffered input stream.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="n">BufferedReader</span> <span class="n">br</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">in</span><span class="o">));</span>
</code></pre></figure>
<p>Likewise, to print characters to the terminal it&#39;s preferred to use a <code>PrintWriter</code> which can be created by wrapping the <code>PrintStream</code>.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="n">PrintWriter</span> <span class="n">pw</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PrintWriter</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
</code></pre></figure><h1 id="strings">
<span class="hash">#</span>
<a href="#strings" class="header-link">Strings</a>
</h1>
<p>String objects are automatically created from string literals, which means that string literals may be used as if they were String objects themselves. When working with regions, the end index is one-past the last affected index, as with C++ iterators.</p>

<p>Java automatically converts data to strings using the <code>String</code>&#39;s static method <code>valueOf</code>, which is overloaded for all primitive types and <code>Object</code>. For other objects, <code>valueOf</code> calls the object&#39;s <code>toString</code> method.</p>

<p>The <code>equals</code> and <code>equalsIgnoreCase</code> methods can be used to determine if a string is equal to another. The <code>regionMatches</code> method can be used to determine if separate regions of two different strings match. The <code>startsWith</code> and <code>endsWith</code> methods can be used to determine if a string ends or begins with another string. The <code>Comparable</code> interface&#39;s <code>compareTo</code> and <code>compareToIgnoreCase</code> methods can be used to get a less, equal, or greater than result with respect to another string.</p>

<p>The <code>indexOf</code> and <code>lastIndexOf</code> methods can be used to obtain the index where the first occurrence of a character or string begins. There are overloads which take a starting point as well, which can simplify getting all the positions of all of the occurrences.</p>

<p>Strings are immutable, so operations that appear to modify them simply return new copies of the resulting strings. The <code>substring</code> method can be used to extract a copy of a region of a string given a starting index and optionally en ending index. The <code>replace</code> method can replace all occurrences of a character with another. An overload exists which replaces character sequences. The <code>replaceAll</code> method can replace any substring that matches the given regex with the specified string.</p>

<p>JDK 8 adds a static <code>join</code> method that can join a number of strings with a given string. Conversely, the <code>split</code> method can split a string based on a regex string.</p>

<p>The <code>toLowerCase</code> and <code>toUpperCase</code> methods can be used to convert an entire string to upper or lower case characters.</p>
<h2 id="stringbuffer">
<span class="hash">#</span>
<a href="#stringbuffer" class="header-link">StringBuffer</a>
</h2>
<p>The <code>StringBuffer</code> class represents a growable, thread-safe mutable string. JDK 5 added <code>StringBuilder</code> which is similar but not thread-safe, making it inadvertently faster.</p>

<p>Constructors exist for creating one with a given capacity size or to build one from an existing from an existing string plus an additional 16 characters in capacity. The default constructor only reserves 16 characters for its capacity.</p>

<p>It&#39;s possible to ensure a certain capacity is available with the <code>ensureCapacity</code> method which is given the minimum size that the buffer should have. The <code>setLength</code> method can be used to either extend the string by adding null characters or to truncate the string.</p>

<p><code>StringBuffer</code> provides a <code>setCharAt</code> method that can modify a character at the provided position. The <code>append</code> method can concatenate strings to the buffer while returning the updated buffer, allowing calls to this method to be chained. The <code>insert</code> method can insert a given string at the specified index. The <code>reverse</code> method can reverse the string. The <code>delete</code> and <code>deleteCharAt</code> methods can remove a region of the string or a single character respectively. The <code>replace</code> method can replace a region of the string with another string, even if it differs in length.</p>
<h1 id="java.lang">
<span class="hash">#</span>
<a href="#java.lang" class="header-link">java.lang</a>
</h1><h2 id="runtime">
<span class="hash">#</span>
<a href="#runtime" class="header-link">Runtime</a>
</h2>
<p>The abstract class <code>Process</code> represents an executing program and is derived by objects created by <code>exec</code> in <code>Runtime</code> or <code>start</code> in <code>ProcessBuilder</code>.</p>

<p>The <code>Runtime</code> class represents the Java Virtual Machine&#39;s run-time environment. A reference to the current run-time&#39;s <code>Runtime</code> instance can be retrieved using <code>Runtime.getRuntime()</code>. <code>Runtime</code> defines methods such as <code>exec</code> for executing processes, in which case it returns an object of type <code>Process</code> that describes the process.</p>

<p><code>Runtime</code> provides methods such as <code>gc</code> to manually initiate garbage collection, or <code>runFinalization</code> to initiate the <code>finalize</code> methods of unused but not yet garbage collected objects.</p>

<p>There is also <code>exit</code> for halting execution of the program.</p>
<h2 id="process">
<span class="hash">#</span>
<a href="#process" class="header-link">Process</a>
</h2>
<p>The <code>Process</code> class can be used to control a running process. The <code>destroy</code> method can be used to kill the process. The <code>waitFor</code> method waits until the process finishes, whereas <code>exitValue</code> does the same but yields the process&#39; exit value. Access to the input and output streams are available via the <code>getOutputStream</code> and <code>getInputStream</code> methods.</p>

<p>The <code>ProcessBuilder</code> class provides even more control over a process, allowing for example to set the working directory. The constructors accept either a variable argument list of strings or a <code>List&lt;String&gt;</code>. The <code>start</code> method is used to actually start execution of the process.</p>

<p>There is also a static class <code>ProcessBuilder.Redirect</code> which has methods <code>to</code>, <code>from</code>, and <code>appendTo</code> which can be used to redirect the input or output streams to or from a given file. The <code>type</code> method returns a value of the enumeration type <code>ProcessBuilder.Redirect.Type</code> describing the type of redirection, which can be <code>APPEND</code>, <code>INHERIT</code>, <code>PIPE</code>, and <code>WRITE</code>.</p>
<h2 id="system">
<span class="hash">#</span>
<a href="#system" class="header-link">System</a>
</h2>
<p>The <code>System</code> class provides a variety of static methods and variables, such as the input, output, and error streams in <code>System.{in,out,err}</code>.</p>

<p>There is also---for some reason---a method for copying arrays, <code>arrayCopy</code>, which takes a reference to the array, its starting index, the same for the other array, and a size.</p>
<h2 id="object">
<span class="hash">#</span>
<a href="#object" class="header-link">Object</a>
</h2>
<p>The <code>Object</code> class defines a method <code>clone</code> which generates a duplicate copy of the object, but only if the class implements the <code>Cloneable</code> interface. The <code>Cloneable</code> interface defines no members and is instead used to signal to the system that it is safe to create a bitwise copy of a particular type of object.</p>

<p>Since it may sometimes be dangerous to perform bitwise copies of certain classes, it may be useful to override <code>clone</code>.</p>
<h2 id="class">
<span class="hash">#</span>
<a href="#class" class="header-link">Class</a>
</h2>
<p>The <code>Class</code> class represents the run-time state of a class or interface, and objects of this type are created automatically when classes are loaded. A reference to an object&#39;s <code>Class</code> instance can be retrieved using the <code>getClass</code> method defined on <code>Object</code>. A <code>Class</code> instance can also be retrieved using <code>forName</code> static method. The <code>Class</code> method provides a variety of Run-time Type Information methods such as <code>getName</code>, <code>getSuperClass</code>, and so on.</p>

<p>This class is a good real-world example of the use of wildcards as well as lower and upper bounds.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">forName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span>
<span class="n">Class</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="n">T</span><span class="o">&gt;</span> <span class="nf">getSuperClass</span><span class="o">()</span>
<span class="o">&lt;</span><span class="n">A</span> <span class="kd">extends</span> <span class="n">Annotation</span><span class="o">&gt;</span> <span class="n">A</span> <span class="nf">getAnnotation</span><span class="o">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span> <span class="n">annoType</span><span class="o">)</span>
</code></pre></figure>
<p>The <code>ClassLoader</code> abstract class defines how classes are loaded, enabling one to alter the way classes are loaded by the JVM by simply deriving from it.</p>
<h2 id="package">
<span class="hash">#</span>
<a href="#package" class="header-link">Package</a>
</h2>
<p>The <code>Package</code> class provides information associated with a package.</p>
<h2 id="comparable">
<span class="hash">#</span>
<a href="#comparable" class="header-link">Comparable</a>
</h2>
<p>The <code>Comparable</code> interface represents objects that can be compared, and provides a single method <code>compareTo</code> which should return 0 if the values are equal, a negative number if the invoking object is lower, or a positive number if the invoking object is greater.</p>
<h2 id="appendable">
<span class="hash">#</span>
<a href="#appendable" class="header-link">Appendable</a>
</h2>
<p>The <code>Appendable</code> interface signifies that a character or character sequences can be appended to an object by means of its <code>append</code> method.</p>
<h2 id="iterable">
<span class="hash">#</span>
<a href="#iterable" class="header-link">Iterable</a>
</h2>
<p>The <code>Iterable</code> interface signifies that an object can be used in a for-each loop. It provides an <code>iterator</code> method yielding an <code>Iterator</code> of the object. JDK 8 also provides two default methods <code>forEach</code> and <code>splititerator</code>. The <code>forEach</code> method takes functional interface <code>Consumer</code> and applies it to each element yielded by the iterator.</p>
<h2 id="autocloseable">
<span class="hash">#</span>
<a href="#autocloseable" class="header-link">AutoCloseable</a>
</h2>
<p>The <code>AutoCloseable</code> interface signifies that the object can be used with the try-with-resources statement which provides automatic resource management by means of its <code>close</code> method.</p>
<h1 id="collections">
<span class="hash">#</span>
<a href="#collections" class="header-link">Collections</a>
</h1>
<p>The Java Collections Framework provides a variety of collections and interfaces for working with them.</p>
<h2 id="collection-interfaces">
<span class="hash">#</span>
<a href="#collection-interfaces" class="header-link">Collection Interfaces</a>
</h2>
<table>
<thead>
<tr>
<th style="text-align: left">Collection</th>
<th style="text-align: left">Purpose</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left"><code>Collection</code></td>
<td style="text-align: left">work with groups of objects</td>
</tr>
<tr>
<td style="text-align: left"><code>List</code></td>
<td style="text-align: left">extends <code>Collection</code> to handle sequences of objects</td>
</tr>
<tr>
<td style="text-align: left"><code>Queue</code></td>
<td style="text-align: left">extends <code>Collection</code> to handle lists with removal only from head</td>
</tr>
<tr>
<td style="text-align: left"><code>Deque</code></td>
<td style="text-align: left">extends <code>Queue</code> to handle double-ended queue</td>
</tr>
<tr>
<td style="text-align: left"><code>Set</code></td>
<td style="text-align: left">extends <code>Collection</code> to handle sets</td>
</tr>
<tr>
<td style="text-align: left"><code>SortedSet</code></td>
<td style="text-align: left">extends <code>Set</code> to handle sorted sets</td>
</tr>
<tr>
<td style="text-align: left"><code>NavigableSet</code></td>
<td style="text-align: left">extends <code>SortedSet</code> to add closest-match retrieval</td>
</tr>
</tbody>
</table>
<h3 id="collection">
<span class="hash">#</span>
<a href="#collection" class="header-link">Collection</a>
</h3>
<p>The <code>Collection&lt;E&gt;</code> interface represents a generic collection of elements, and it extends the <code>Iterable</code> interface so that all collections are inherently compatible with for-each loops. The methods of <code>Collection</code> may throw a variety of exceptions:</p>

<table>
<thead>
<tr>
<th style="text-align: left">Exception</th>
<th style="text-align: left">Cause</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left"><code>UnsupportedOperationException</code></td>
<td style="text-align: left">attempting to mutate immutable collection</td>
</tr>
<tr>
<td style="text-align: left"><code>ClassCastException</code></td>
<td style="text-align: left">adding incompatible object</td>
</tr>
<tr>
<td style="text-align: left"><code>NullPointerException</code></td>
<td style="text-align: left">storing a <code>null</code> when <code>null</code>s aren&#39;t allowed</td>
</tr>
<tr>
<td style="text-align: left"><code>IllegalStateException</code></td>
<td style="text-align: left">adding element to fixed-length, full collection</td>
</tr>
</tbody>
</table>

<p>The <code>add</code> method adds an object to a collection, returning a boolean indicating whether the object was added or if it already existed and duplicates are not allowed. The <code>addAll</code> method adds all of the objects from another collection.</p>

<p>The <code>remove</code> and <code>removeAll</code> methods are analogous to the <code>add</code> methods. <code>clear</code> removes all elements. The JDK 8 <code>removeIf</code> method removes all elements that satisfy the provided predicate. The <code>retainAll</code> method removes all elements except those in the provided collection.</p>

<p>The <code>size</code> method provides the number of elements in the collection.</p>

<p>The <code>contains</code> method returns <code>true</code> is the object is present in the collection. There is also a <code>containsAll</code> method similar to <code>addAll</code>.</p>

<p>The <code>equals</code> method provides equality checking, whether it&#39;s value or reference equality is up to the implementer. The <code>isEmpty</code> method checks if the collection is empty.</p>

<p>The <code>toArray</code> methods can return an array of the elements in the collection. The first overload returns an array of <code>Object</code> whereas the second takes an array parameter into which the elements are written if they fit, otherwise an array is returned. If they did fit and the array was larger than the amount of elements, the element after the last collection element is set to <code>null</code>.</p>
<h3 id="list">
<span class="hash">#</span>
<a href="#list" class="header-link">List</a>
</h3>
<p>The <code>List</code> interface extends <code>Collection</code> to provide behavior for a sequence of elements, which can be inserted or accessed by their zero-based index position. The methods here may throw <code>IndexOutOfBoundsException</code> if an invalid index is used. Overloads are provided for the <code>add</code> methods that take an index argument to specify where to insert the element. The overloads without the index parameter are changed in <code>List</code> to insert the elements at the end of the sequence.</p>

<p>The <code>get</code> method takes an index argument and retrieves the element at that index. Conversely, the <code>set</code> method takes an index parameter and an element with which to replace the element at that index.</p>

<p>The <code>indexOf</code> and <code>lastIndexOf</code> methods can be used to find an element in the sequence and retrieve its index.</p>

<p>A sub-list of the sequence can be obtained using the <code>subList</code> method and specifying beginning and end indices.</p>

<p>The <code>sort</code> method can sort a <code>List</code> using a provided <code>Comparator</code>.</p>
<h3 id="set">
<span class="hash">#</span>
<a href="#set" class="header-link">Set</a>
</h3>
<p>The <code>Set</code> interface extends <code>Collection</code> and adds behavior that doesn&#39;t allow duplicate elements. It doesn&#39;t actually provide any additional methods aside from providing this behavior. The <code>add</code> method returns <code>false</code> if the element already existed within the collection.</p>
<h3 id="sortedset">
<span class="hash">#</span>
<a href="#sortedset" class="header-link">SortedSet</a>
</h3>
<p>The <code>SortedSet</code> interface extends <code>Set</code> to add the behavior of a set sorted in ascending order. It provides methods such as <code>first</code> and <code>last</code> for getting the first and last elements. A sorted subset can be obtained using <code>subSet</code> and specifying start and end indices, or there are the <code>headSet</code> and <code>tailSet</code> methods that obtain a subset starting with the first element or a subset that ends the set---respectively---up to a certain end index..</p>
<h3 id="navigableset">
<span class="hash">#</span>
<a href="#navigableset" class="header-link">NavigableSet</a>
</h3>
<p>The <code>NavigableSet</code> interface extends <code>SortedSet</code> and provides closest match element retrieval. For example, the <code>lower</code> method will find the largest element that is smaller than the provided object, whereas the <code>floor</code> method will find the smallest element that is smaller than or equal to the provided object. There are also <code>higher</code> and <code>ceil</code> analogs to those methods.</p>

<p>There are also methods that behave like priority queues, such as <code>pollFirst</code> which returns the first element---which will be the smallest element since the set is sorted in ascending order---and removes it from the set. There is also a <code>pollLast</code> analog.</p>
<h3 id="queue">
<span class="hash">#</span>
<a href="#queue" class="header-link">Queue</a>
</h3>
<p>The <code>Queue</code> interface extends <code>Collection</code> and adds behavior for a FIFO structure. Elements can only be removed from the head of the queue via the methods <code>poll</code> and <code>remove</code>, where the first returns <code>null</code> if the queue is empty and <code>remove</code> throws an exception. The methods <code>peek</code> and <code>element</code> are analogous to <code>poll</code> and <code>remove</code> respectively, but <em>don&#39;t</em> remove the element from the queue. An addition to the queue can be attempted via the <code>offer</code> method, which may fail if the queue is of fixed-size and is full, in which case it returns <code>false</code>.</p>
<h3 id="deque">
<span class="hash">#</span>
<a href="#deque" class="header-link">Deque</a>
</h3>
<p>The <code>Deque</code> interface extends <code>Queue</code> to add behavior for a double-ended queue so that a queue can function as a FIFO (queue) as well as a LIFO (stack) thanks to methods <code>push</code> and <code>pop</code>. The <code>descendingIterator</code> returns an iterator that iterates over the elements in reverse. There are also <code>addFirst</code> and <code>addLast</code> methods that are similar to <code>offer</code> except they throw <code>IllegalStateException</code> if the queue is of fixed-size and full.</p>
<h3 id="randomaccess">
<span class="hash">#</span>
<a href="#randomaccess" class="header-link">RandomAccess</a>
</h3>
<p>The <code>RandomAccess</code> interface has no members and simply signifies that that the collection supports efficient random access.</p>
<h2 id="collection-classes">
<span class="hash">#</span>
<a href="#collection-classes" class="header-link">Collection Classes</a>
</h2><h3 id="arraylist">
<span class="hash">#</span>
<a href="#arraylist" class="header-link">ArrayList</a>
</h3>
<p>The <code>ArrayList</code> class is similar to <code>vector</code> in C++ in that it represents an array that will grow as required. It can be constructed either as an empty array list, from an arbitrary collection, or an empty array list with a reserved capacity. Capacity can be reserved after construction using the <code>ensureCapacity</code> method. The <code>trimToSize</code> method can be used to shrink the array to the minimum size required to store all of the elements.</p>

<p>The <code>toArray</code> method from <code>Collection</code> can be used to yield an array from an <code>ArrayList</code>:</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">arrayList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>
<span class="n">Integer</span> <span class="n">array</span><span class="o">[]</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Integer</span><span class="o">[</span><span class="n">arrayList</span><span class="o">.</span><span class="na">size</span><span class="o">()];</span>

<span class="c1">// fills array with elements if it&#39;s large enough,</span>
<span class="c1">// otherwise it returns a new array that is large enough</span>
<span class="n">array</span> <span class="o">=</span> <span class="n">arrayList</span><span class="o">.</span><span class="na">toArray</span><span class="o">(</span><span class="n">array</span><span class="o">);</span>
</code></pre></figure><h3 id="linkedlist">
<span class="hash">#</span>
<a href="#linkedlist" class="header-link">LinkedList</a>
</h3>
<p>The <code>LinkedList</code> class extends <code>AbstractSequentialList</code> and implements <code>List</code>, <code>Deque</code>, and <code>Queue</code>, and provides linked-list behavior. The <code>add</code> method would be used to insert elements at a particular location with minimal performance cost.</p>
<h3 id="hashset">
<span class="hash">#</span>
<a href="#hashset" class="header-link">HashSet</a>
</h3>
<p>The <code>HashSet</code> class extends <code>AbstractSet</code> and implements <code>Set</code>, and provides hash table behavior. Two of the constructors accept a capacity argument (default 16), with one of them accepting a load capacity argument (default 0.75) known as <em>fill ratio</em>, which determines how full the hash set can be before it is grown, and as such it must be a value between 0.0 and 1.0. In other words, the hash set is grown when:</p>

<p><script type="math/tex; mode=display"> \text{# of elements} \gt \text{capacity} \cdot \text{fill ratio} </script></p>
<h3 id="linkedhashset">
<span class="hash">#</span>
<a href="#linkedhashset" class="header-link">LinkedHashSet</a>
</h3>
<p>The <code>LinkedHashSet</code> class extends <code>HashSet</code> and adds no members of its own aside from adding the behavior that it maintains a linked list of elements in order of insertion.</p>
<h3 id="treeset">
<span class="hash">#</span>
<a href="#treeset" class="header-link">TreeSet</a>
</h3>
<p>The <code>TreeSet</code> class extends <code>AbstractSet</code> and implements <code>NavigableSet</code> and represents a tree-backed ascending-order sorted set. This class is great when storing many sorted elements that must be accessed quickly. One of the constructors accepts a <code>Comparator</code> to use for sorting the elements. Another constructor can build the <code>TreeSet</code> from another <code>SortedSet</code>.</p>
<h3 id="priorityqueue">
<span class="hash">#</span>
<a href="#priorityqueue" class="header-link">PriorityQueue</a>
</h3>
<p>The <code>PriorityQueue</code> class extends <code>AbstractQueue</code> and implements <code>Queue</code> and provides priority queue behavior. One of the JDK 8 constructors accepts a <code>Comparator</code> used to order the elements, which is also possible via another non-JDK 8 constructor that takes a capacity and <code>Comparator</code>. A reference to the <code>Comparator</code> can be obtained using the <code>comparator</code> method, which returns <code>null</code> if the default ascending order is used.</p>

<p>Note that manually iterating over a <code>PriorityQueue</code> yields an undefined order, so <code>offer</code> and <code>poll</code> should be used instead.</p>
<h3 id="arraydeque">
<span class="hash">#</span>
<a href="#arraydeque" class="header-link">ArrayDeque</a>
</h3>
<p>The <code>ArrayDeque</code> class extends <code>AbstractCollection</code> and implements <code>Deque</code> and can be used as a growable stack.</p>
<h3 id="enumset">
<span class="hash">#</span>
<a href="#enumset" class="header-link">EnumSet</a>
</h3>
<p>The <code>EnumSet</code> class extends <code>AbstractSet</code> and implements <code>Set</code> and is used for enumerations, as enforced by its signature which forces all elements to be of the same enumeration type:</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">class</span> <span class="nc">EnumSet</span><span class="o">&lt;</span><span class="n">E</span> <span class="kd">extends</span> <span class="n">Enum</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;&gt;</span>
</code></pre></figure>
<p>It provides no constructors and instead has static factory methods. The <code>allOf</code> method creates an <code>EnumSet</code> of all possible enumerations of a given type represented by a <code>Class</code> object. The <code>complementOf</code> method creates a set of all enumerations not present in the given set. More generally, the <code>of</code> method accepts an arbitrary amount of enumerations and constructs an <code>EnumSet</code> from it, providing overloads for efficiency. The <code>range</code> method creates a set from the given range of enumerations.</p>
<h2 id="iterator">
<span class="hash">#</span>
<a href="#iterator" class="header-link">Iterator</a>
</h2>
<p>The <code>Iterator</code> interface encapsulates the act of iterating over a collection. It provides methods <code>hasNext</code> and <code>next</code> to both test if a value remains and to obtain that value. The <code>remove</code> method can be used to remove the current element from the collection being iterated over, but may throw <code>IllegalStateException</code> if the call was not preceded by <code>next</code> or if the collection is read-only. The JDK 8 method <code>forEachRemaining</code> takes a <code>Consumer</code> and applies it to each remaining element in the iterator.</p>

<p>The <code>ListIterator</code> interface extends <code>Iterator</code> and adds bidirectional iteration as well as modification of elements. It&#39;s accessible from collections that implement <code>List</code>. The <code>add</code> method inserts an element before the element that will be returned by the next call to <code>next</code>. It also provides bidirectional equivalents to the methods in <code>Iterator</code> such as <code>hasPrevious</code> and <code>previous</code>.</p>

<p>The <code>nextIndex</code> and <code>previousIndex</code> methods return the index of the next or previous element respectively. If there is no such element, it returns the size of the list in the case of <code>nextIndex</code> or -1 in the case of <code>previousIndex</code>, i.e. one past the last element or one before the first element.</p>

<p>The <code>set</code> method can be used to replace the current element, which is the element last returned by <code>next</code> or <code>previous</code>.</p>
<h2 id="spliterator">
<span class="hash">#</span>
<a href="#spliterator" class="header-link">Spliterator</a>
</h2>
<p>JDK 8 introduces a new kind of iterator known as a <em>spliterator</em>, represented with the <code>Spliterator</code> interface. Spliterators provide support for parallel iteration, but also provide many more facilities than regular iterators making them useful in non-parallel contexts.</p>

<p>Iterating with a <code>Spliterator</code> is done using the <code>tryAdvance</code> which applies a <code>Consumer</code> to the next element, returning <code>false</code> if there is no element remaining. The <code>forEachRemaining</code> method does the same thing but for every element remaining.</p>

<p>The fact that <code>tryAdvance</code> returns <code>false</code> when no elements remain means that it can be used in a while loop very easily, though the same can be done using <code>forEachRemaining</code>:</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="k">while</span> <span class="o">(</span><span class="n">spliterator</span><span class="o">.</span><span class="na">tryAdvance</span><span class="o">((</span><span class="n">e</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">)));</span>

<span class="c1">// order</span>
<span class="n">spliterator</span><span class="o">.</span><span class="na">forEachRemaining</span><span class="o">((</span><span class="n">e</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">));</span>
</code></pre></figure>
<p>The spliterator can be split further using the <code>trySplit</code> method which yields a new spliterator that iterates over a portion of the sequence and the invoking spliterator iterates over the other portion.</p>

<p>Spliterators can contain characteristics which are retrieved using the <code>characteristics</code> method to retrieve them all or the <code>hasCharacteristics</code> method to test for an individual characteristic. Characteristics are defined as static integer fields on <code>Spliterator</code>, such as <code>SORTED</code> and <code>IMMUTABLE</code>.</p>
<h2 id="maps">
<span class="hash">#</span>
<a href="#maps" class="header-link">Maps</a>
</h2>
<p>Maps represents associations between keys and values. They <strong>do not</strong> implement <code>Iterable</code> and so the pairs cannot be iterated over.</p>
<h3 id="map-interfaces">
<span class="hash">#</span>
<a href="#map-interfaces" class="header-link">Map Interfaces</a>
</h3>
<table>
<thead>
<tr>
<th style="text-align: left">Collection</th>
<th style="text-align: left">Purpose</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left"><code>Map</code></td>
<td style="text-align: left">maps keys to values</td>
</tr>
<tr>
<td style="text-align: left"><code>Map.Entry</code></td>
<td style="text-align: left">describes a key-value pair</td>
</tr>
<tr>
<td style="text-align: left"><code>SortedMap</code></td>
<td style="text-align: left">extends <code>Map</code> to put keys in ascending order</td>
</tr>
<tr>
<td style="text-align: left"><code>NavigableMap</code></td>
<td style="text-align: left">extends <code>SortedMap</code> for closest-match retrieval</td>
</tr>
</tbody>
</table>
<h4 id="map">
<span class="hash">#</span>
<a href="#map" class="header-link">Map</a>
</h4>
<p>The <code>Map</code> interface embodies behavior for key-value stores. The two fundamental methods provided are <code>get</code> and <code>put</code> which are used to retrieve and insert into the map. The <code>remove</code> method takes a key and removes the entry associated with it, returning it.</p>

<p>Though maps aren&#39;t collections since they don&#39;t implement <code>Collection</code>, they do provide collection views for their keys and values via the <code>keySet</code> and <code>values</code> methods respectively, or over the key-value pairs using the <code>entrySet</code> method. Each of the collection views is backed by the map, so changing values through the view changes the values in the map as well.</p>

<p>There are some <code>compute</code> variant methods that facilitate the use of a map as a cache, such as <code>computeIfAbsent</code>, which takes a function and returns the value associated with the key, and if it doesn&#39;t exist, computes the value using the function, stores it in the map, and then returns the computed value <sup id="fnref3"><a href="#fn3" rel="footnote">3</a></sup>.</p>

<p>The <code>containsKey</code> and <code>containsValue</code> methods can be used to test the presence of a key or value respectively. The <code>equals</code> method can be used to check if another map contains the same entries.</p>

<p>The JDK 8 method <code>forEach</code> can be used to apply an action on each entry in the map.</p>

<p>The JDK 8 method <code>merge</code> takes a key and value and inserts it into the map if the key didn&#39;t already exist, otherwise it computes a new value given the old value.</p>

<p>The <code>putAll</code> method puts all the entries from another map into the invoking map.</p>
<h4 id="sortedmap">
<span class="hash">#</span>
<a href="#sortedmap" class="header-link">SortedMap</a>
</h4>
<p>The <code>SortedMap</code> interface extends <code>Map</code> and ensures that entries are stored in ascending order. It provides very efficient sub-map manipulations via the <code>headMap</code>, <code>tailMap</code>, and <code>subMap</code> methods. The first and last key can be obtained using <code>firstKey</code> and <code>lastKey</code> respectively.</p>
<h4 id="navigablemap">
<span class="hash">#</span>
<a href="#navigablemap" class="header-link">NavigableMap</a>
</h4>
<p>The <code>NavigableMap</code> interface extends <code>SortedMap</code> and provides closest-match retrieval of key(s).</p>
<h4 id="map.entry">
<span class="hash">#</span>
<a href="#map.entry" class="header-link">Map.Entry</a>
</h4>
<p>The <code>Map.Entry</code> interface represents a map entry, i.e. a key-value pair. It provides methods for getting the key and value via <code>getKey</code> and <code>getValue</code> respectively as well as setting the value using <code>setValue</code>.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="n">Set</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="n">map</span><span class="o">.</span><span class="na">entrySet</span><span class="o">();</span>

<span class="k">for</span> <span class="o">(</span><span class="n">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">entry</span> <span class="o">:</span> <span class="n">set</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">entry</span><span class="o">.</span><span class="na">getKey</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;: &quot;</span> <span class="o">+</span> <span class="n">entry</span><span class="o">.</span><span class="na">getValue</span><span class="o">());</span>
<span class="o">}</span>
</code></pre></figure><h3 id="map-classes">
<span class="hash">#</span>
<a href="#map-classes" class="header-link">Map Classes</a>
</h3>
<p>The <code>WeakHashMap</code> class uses weak keys so that the entry can be garbage collected when the key is otherwise unused.</p>
<h4 id="hashmap">
<span class="hash">#</span>
<a href="#hashmap" class="header-link">HashMap</a>
</h4>
<p>The <code>HashMap</code> class extends <code>AbstractMap</code> and implements the <code>Map</code> interface and represents a map backed by a hash table. It provides constructors similar to <code>HashSet</code>&#39;s, such as those that allow to set the capacity and load capacity (fill ratio).</p>
<h4 id="treemap">
<span class="hash">#</span>
<a href="#treemap" class="header-link">TreeMap</a>
</h4>
<p>The <code>TreeMap</code> class extends <code>AbstractMap</code> and implements <code>NavigableMap</code>. It&#39;s like <code>TreeSet</code> in that it can store entries in sorted order allowing for efficient retrieval. It has similar methods to <code>TreeSort</code> such as one that takes a <code>Comparator</code>.</p>
<h4 id="linkedhashmap">
<span class="hash">#</span>
<a href="#linkedhashmap" class="header-link">LinkedHashMap</a>
</h4>
<p>The <code>LinkedHashMap</code> class extends <code>HashMap</code> and is the map analog to <code>LinkedHashSet</code> in that it maintains a linked list of entries in the order in which they were inserted. This means that iterating over a collection view of the map yields elements in insertion order.</p>

<p>One of the constructors takes an <code>order</code> parameter after the capacity and load capacity which specifies whether the linked list should store elements in insertion order or by last access order.</p>

<p>It also provides a single additional method aside from those defined by <code>HashMap</code> and that is <code>removeEldestEntry</code>. This function is called internally after calling <code>put</code> or <code>putAll</code> and is used to determine whether or not to remove the oldest entry in the map. For that purpose, it returns <code>false</code> by default but can be overridden to provide different behavior, such as a fixed-size LRU cache:</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">protected</span> <span class="kt">boolean</span> <span class="nf">removeEldestEntry</span><span class="o">(</span><span class="n">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">&lt;</span><span class="n">K</span><span class="o">,</span> <span class="n">V</span><span class="o">&gt;</span> <span class="n">entry</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="n">self</span><span class="o">.</span><span class="na">MAX_SIZE</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></figure><h4 id="enummap">
<span class="hash">#</span>
<a href="#enummap" class="header-link">EnumMap</a>
</h4>
<p>The <code>EnumMap</code> extends <code>AbstractMap</code> and implements <code>Map</code>. It specifically takes enumerations for keys.</p>
<figure class="codeblock">
<pre>
<code class="highlight language-java"><span class="kd">class</span> <span class="nc">EnumMap</span><span class="o">&lt;</span><span class="n">K</span> <span class="kd">extends</span> <span class="n">Enum</span><span class="o">&lt;</span><span class="n">K</span><span class="o">&gt;,</span> <span class="n">V</span><span class="o">&gt;</span>
</code></pre></figure><h2 id="comparators">
<span class="hash">#</span>
<a href="#comparators" class="header-link">Comparators</a>
</h2>
<p>The <code>Comparator</code> interface represents an arbitrary comparison between two values. Prior to JDK 8 it defined two methods <code>compare</code> and <code>equals</code>. JDK 8 adds many more methods as default and static interface methods.</p>

<p>The default method <code>reverse</code> returns a comparator that is the reverse of the invoking comparator.</p>

<p>The static methods <code>naturalOrder</code> and <code>reverseOrder</code> provide comparators for the natural ordering and the reverse of it respectively.</p>

<p>The static methods <code>nullsFirst</code> and <code>nullsLast</code> adapts an existing comparator so that can handle null values and considers them to be first or last in the order respectively. If the comparator passed is <code>null</code>, then all non-<code>null</code> values are considered equivalent.</p>

<p>The default method <code>thenComparing</code> returns a comparator that chains a comparator in the event that the invoking comparator considers two values to be equivalent. Two additional overloads accept a function for selecting the next comparison key to compare as well as the comparator to use. There are also specialized versions for primitives such as <code>thenComparingInt</code>.</p>

<p>The static method <code>comparing</code> takes a function to select a comparison key and returns a comparator that compares based on that key. The second overload accepts an arbitrary comparator and adapts it accordingly. As with <code>thenComparing</code>, there are specialized versions of <code>comparing</code> for primitives, such as <code>comparingInt</code>.</p>

<p>Since <code>Comparator</code> only requires one method to be implemented---the reset being default or static methods---it is possible to use a lambda to instantiate a comparator.</p>
<h2 id="collection-algorithms">
<span class="hash">#</span>
<a href="#collection-algorithms" class="header-link">Collection Algorithms</a>
</h2>
<p>The <code>Collections</code> class provides a variety of algorithms as static methods.</p>

<p>The <code>checkedCollection</code> family of methods returns a run-time type-safe collection view which provides run-time checks to ensure that compatible objects are inserted into the collection, throwing <code>ClassCastException</code> if the check fails. There are <code>checkedSet</code>, <code>checkedList</code>, <code>checkedMap</code>, etc.</p>

<p>Thread-safe (synchronized) copies of collections can be obtained using the <code>synchronized</code> family of methods such as <code>synchronizedList</code>. Iteration over synchronized collections must be performed within <code>synchronized</code> blocks.</p>

<p>The <code>unmodifiable</code> family of methods such as <code>unmodifiableSet</code> provides an immutable view over a collection. <code>Collections</code> provides three static methods that yield immutable collections: <code>EMPTY_SET</code>, <code>EMPTY_LIST</code>, and <code>EMPTY_MAP</code>.</p>

<p>The <code>asLifoQueue</code> provides a LIFO (stack) view of a <code>Deque</code> as a <code>Queue</code>.</p>

<p>The <code>binarySearch</code> method takes a list and a search value and performs a binary search on the list, returning the index of the match or a negative value if none was found.</p>

<p>The <code>disjoint</code> method checks if the two collections have no elements in common.</p>

<p>The <code>emptyIterator</code> method yields an empty iterator.</p>

<p>The <code>fill</code> method takes a list and an object and replaces each element in the list with that object.</p>

<p>The <code>frequency</code> method takes a collection and an object and counts the number of occurrences in it.</p>

<p>The <code>indexOfSublist</code> method takes two lists and returns the index of the beginning of the first match or -1 if none was found. There is also <code>lastIndexOfSubList</code>.</p>

<p>The <code>max</code> and <code>min</code> methods return the maximum and minimum element in the collection based on natural order, respectively. Overloads exist that accept a custom comparator.</p>

<p>The <code>replaceAll</code> method replaces all occurrences of one value with another in a given list.</p>

<p>The <code>reverse</code> method reverses a list.</p>

<p>The <code>reverseOrder</code> method returns a comparator that is the reverse of the one that is passed, or the reverse of the natural order if none is given.</p>

<p>The <code>rotate</code> method reverse a list by a given number of places to the right, where a negative number rotates to the left.</p>

<p>The <code>shuffle</code> method shuffles the elements in a list given a <code>Random</code> seed, or an arbitrary seed if none is given.</p>

<p>The <code>sort</code> method sorts a list given a comparator, or uses natural order if none is given.</p>

<p>The <code>swap</code> method swaps two elements of a list at the given indices.</p>
<h2 id="arrays">
<span class="hash">#</span>
<a href="#arrays" class="header-link">Arrays</a>
</h2>
<p>The <code>asList</code> method returns a <code>List</code> backed by the invoking array, so that modifying one modifies the other.</p>

<p>The <code>binarySearch</code> method performs binary search on a sorted array for a given value, returning the index if found or a negative value if not found. One overload accepts a custom comparator, while others allow specifying a sub-range.</p>

<p>The <code>copyOf</code> method returns a copy of the array up to a certain size. If the size is shorter then the copy is truncated, and if it&#39;s larger it is padded with zeros for numeric arrays, <code>null</code>s for object arrays, and <code>false</code> for boolean arrays. The <code>copyOfRange</code> method is similar except it allows specifying a sub-range to copy by providing a start and end index.</p>

<p>The <code>equals</code> method tests if two arrays are equivalent. The <code>deepEquals</code> array does the same for arrays that may contain other arrays.</p>

<p>The <code>fill</code> method assigns a value to all elements in the array, with an overload accepting a sub-range to fill.</p>

<p>The <code>sort</code> method sorts an array into ascending order, or one of the overloads accepts a custom comparator. Other overloads allow specifying a sub-range.</p>
<h3 id="jdk-8">
<span class="hash">#</span>
<a href="#jdk-8" class="header-link">JDK 8</a>
</h3>
<p>JDK 8 adds a variety of new methods.</p>

<p>The <code>parallelSort</code> method which performs a sort in parallel and then merges the results, which provides similar overloads to <code>sort</code>.</p>

<p>The <code>spliterator</code> method returns a spliterator of an entire array, with an overload accepting a sub-range to iterate over.</p>

<p>The <code>stream</code> method yields a <code>Stream</code> for use with the JDK 8 <code>Stream</code> interface.</p>

<p>The <code>setAll</code> and <code>parallelSetAll</code> methods assign values to all elements based on the result of applying a provided generator function on a given element.</p>

<p>The <code>parallelPrefix</code> method performs an operation on all previous elements for each element <sup id="fnref4"><a href="#fn4" rel="footnote">4</a></sup>. So that if the operation is addition, each element will be the sum of all elements prior to it.</p>

<p>The <code>toString</code> and <code>hashCode</code> methods work on arrays as well as <code>deepToString</code> and <code>deepHashCode</code> variants.</p>
<h2 id="legacy-collections">
<span class="hash">#</span>
<a href="#legacy-collections" class="header-link">Legacy Collections</a>
</h2>
<p>The <code>Enumeration</code> interface is a legacy version of <code>Iterator</code>.</p>

<p>The <code>Vector</code> class is a legacy version of <code>ArrayList</code>.</p>

<p>The <code>Stack</code> class is a LIFO subclass of <code>Vector</code>.</p>

<p>The <code>Dictionary</code> abstract class is a legacy version of <code>Map</code>.</p>

<p>The <code>Hashtable</code> class is a legacy version of <code>HashMap</code>.</p>

<p>The <code>Properties</code> class is a subclass of <code>Hashtable</code> and is still used for Java system related functionality, such as <code>System.getProperties</code>. It can retrieve values using <code>getProperty</code> and set properties with <code>setProperty</code>. It&#39;s possible to specify a default value to return if no value is associated with a given key by giving the <code>getProperty</code> a second argument. Alternatively, a constructor can take another <code>Properties</code> object to use as default properties. The <code>store</code> and <code>load</code> methods can be used to serialize and deserialize the properties to to a stream.</p>
<h1 id="java.util">
<span class="hash">#</span>
<a href="#java.util" class="header-link">java.util</a>
</h1>
<div class="footnotes">
<hr>
<ol>

<li id="fn1">
<p>For example, <a href="http://docs.spring.io/spring/docs/2.5.x/api/org/springframework/aop/framework/AbstractSingletonProxyFactoryBean.html"><code>AbstractSingletonProxyFactoryBean</code></a> from the Spring framework.&nbsp;<a href="#fnref1" rev="footnote">&#8617;</a></p>
</li>

<li id="fn2">
<p>Reminds me of Objective-C&#39;s <code>NSNumber</code>.&nbsp;<a href="#fnref2" rev="footnote">&#8617;</a></p>
</li>

<li id="fn3">
<p>This is very much like the Rust <a href="http://doc.rust-lang.org/std/collections/hash_map/enum.Entry.html">Entry API</a>.&nbsp;<a href="#fnref3" rev="footnote">&#8617;</a></p>
</li>

<li id="fn4">
<p>This sounds a lot like Haskell&#39;s <a href="https://hackage.haskell.org/package/base-4.8.1.0/docs/Prelude.html#g:16"><code>scan</code></a> family of functions.&nbsp;<a href="#fnref4" rev="footnote">&#8617;</a></p>
</li>

</ol>
</div>
</div>
  <div class="meta">
    <div class="meta-component"><i class="fa fa-calendar fa-fw"></i> July  6, 2014</div>
    <div class="meta-component"><i class="fa fa-code-fork fa-fw"></i> <a href="https://github.com/blaenk/site/commits/master/input/notes/java.markdown">History</a><span class="hash">, <a href="https://github.com/blaenk/site/commit/ef71719" title="legacy collections section
">ef71719</a></span></div>
    <div class="meta-component"><i class="fa fa-pencil fa-fw"></i> <a href="..">Notes</a></div>
  </div>
</article>



    
    <footer id="footer">
  <div id="social">
    <a href="https://github.com/blaenk" title="github"><i class="fa fa-github-alt"></i></a>
    &middot;
    <a href="http://stackoverflow.com/users/101090/jorge-israel-pena" title="stackoverflow"><i class="fa fa-stack-overflow"></i></a>
    &middot;
    <a href="https://twitter.com/blaenk" title="twitter"><i class="fa fa-twitter"></i></a>
    &middot;
    <a href="mailto:jorge.israel.p@gmail.com" title="email"><i class="fa fa-envelope"></i></a>
    &middot;
    <a href="/rss.xml" title="feed"><i class="fa fa-rss-square"></i></a>
  </div>
  <!-- <div id="credit">
    Designed by <a href="http://www.blaenkdenum.com">Jorge Israel Peña</a>
  </div> -->
</footer>


<!-- this should instead be something like connectWS("{{{path}}}") -->


<script type="text/javascript">
  jQuery(function (){
    var ws = new WebSocket('ws://' + window.location.hostname + ':9160/notes/java.markdown');

    ws.onmessage = function (e) {
      var content = jQuery('article .entry-content');
      content.html(e.data);

      window.refresh();

      MathJax.Hub.Queue(["Typeset", MathJax.Hub, jQuery('article .entry-content')[0]]);
    };
  });
</script>




<!-- google analytics -->
<script async="true" type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37339861-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

<!--MathJax CDN-->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    messageStyle: "none"
  });

  MathJax.Hub.Register.MessageHook('End Process', function() {
    jQuery('#MathJax_Font_Test').empty();
    jQuery('.MathJax_Display').parent().addClass('mathjax');
  });
</script>

  </div>
</body>
</html>
